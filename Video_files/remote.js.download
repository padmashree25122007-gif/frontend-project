(function(g){var window=this;'use strict';var Nxw=function(S,W){return g.c9(S,W)},b2N=function(S){if(S instanceof g.jK)return S;
if(typeof S.D7=="function")return S.D7(!1);if(g.NP(S)){let W=0;const m=new g.jK;m.next=function(){for(;;){if(W>=S.length)return g.x2;if(W in S)return g.Qz(S[W++]);W++}};
return m}throw Error("Not implemented");},oJ$=function(S,W,m){if(g.NP(S))g.Tg(S,W,m);
else for(S=b2N(S);;){const {done:a,value:J}=S.next();if(a)break;W.call(m,J,void 0,S)}},J4=function(S){g.wt(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.S$()).toString(36));
return S},B7=function(S,W,m){Array.isArray(m)||(m=[String(m)]);
g.a2(S.j,W,m)},r0p=function(S,W){const m=[];
oJ$(W,function(a){let J;try{J=g.iO.prototype.d3.call(this,a,!0)}catch(B){if(B=="Storage: Invalid value was encountered")return;throw B;}J===void 0?m.push(a):g.x0(J)&&m.push(a)},S);
return m},C3N=function(S,W){r0p(S,W).forEach(function(m){g.iO.prototype.remove.call(this,m)},S)},c0g=function(S){if(S.C3){if(S.C3.locationOverrideToken)return{locationOverrideToken:S.C3.locationOverrideToken};
if(S.C3.latitudeE7!=null&&S.C3.longitudeE7!=null)return{latitudeE7:S.C3.latitudeE7,longitudeE7:S.C3.longitudeE7}}return null},DsH=function(S,W){g.j$(S,W)||S.push(W)},EF=function(S){let W=0;
for(const m in S)W++;return W},wjv=function(S){try{return g.P_.JSON.parse(S)}catch(W){}S=String(S);
if(/^\s*$/.test(S)?0:/^[\],:{}\s\u2028\u2029]*$/.test(S.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+S+")")}catch(W){}throw Error("Invalid JSON string: "+S);},z_=function(S){if(g.P_.JSON)try{return g.P_.JSON.parse(S)}catch(W){}return wjv(S)},SHx=function(S,W,m,a){const J=new g.AU(null);
S&&g.ZV(J,S);W&&g.b6(J,W);m&&g.oa(J,m);a&&(J.N=a);return J},WIv=function(S,W){return new g.d67(S,W)},yD=function(S,W){return Object.prototype.hasOwnProperty.call(S,W)},mYQ=function(S,W){return S===W},YS=function(S,W){this.N={};
this.C=[];this.UX=this.size=0;var m=arguments.length;if(m>1){if(m%2)throw Error("Uneven number of arguments");for(var a=0;a<m;a+=2)this.set(arguments[a],arguments[a+1])}else if(S)if(S instanceof YS)for(m=S.xT(),a=0;a<m.length;a++)this.set(m[a],S.get(m[a]));else for(a in S)this.set(a,S[a])},G_=function(S){if(S.size!=S.C.length){for(var W=0,m=0;W<S.C.length;){var a=S.C[W];
yD(S.N,a)&&(S.C[m++]=a);W++}S.C.length=m}if(S.size!=S.C.length){W={};for(a=m=0;m<S.C.length;){const J=S.C[m];yD(W,J)||(S.C[a++]=J,W[J]=1);m++}S.C.length=a}},KA=function(S){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new YS;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";S&&(this.id=S.id||S.name,this.name=S.name,this.clientName=S.clientName?S.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=S.app,this.type=S.type||"REMOTE_CONTROL",this.username=S.user||"",this.avatar=S.userAvatarUri||"",this.obfuscatedGaiaId=S.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=S.ownerObfuscatedGaiaId||"",this.theme=S.theme||"u",aJQ(this,S.capabilities||""),JBn(this,S.compatibleSenderThemes||""),B3w(this,S.experiments||""),this.brand=S.brand||"",this.model=S.model||"",this.year=S.year||0,this.os=S.os||"",this.osVersion=S.osVersion||"",this.chipset=S.chipset||"",this.mdxDialServerType=S.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",S=S.deviceInfo)&&(S=JSON.parse(S),this.brand=S.brand||"",this.model=S.model||"",this.year=S.year||0,this.os=S.os||"",this.osVersion=S.osVersion||"",this.chipset=S.chipset||"",this.clientName=S.clientName?S.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=S.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},aJQ=function(S,W){S.capabilities.clear();
g.qx(W.split(","),g.w7(Nxw,Eq9)).forEach(m=>{S.capabilities.add(m)})},JBn=function(S,W){S.compatibleSenderThemes.clear();
g.qx(W.split(","),g.w7(Nxw,zr9)).forEach(m=>{S.compatibleSenderThemes.add(m)})},B3w=function(S,W){S.experiments.clear();
W.split(",").forEach(m=>{S.experiments.add(m)})},T_=function(S){S=S||{};
this.name=S.name||"";this.id=S.id||S.screenId||"";this.token=S.token||S.loungeToken||"";this.uuid=S.uuid||S.dialId||"";this.idType=S.screenIdType||"normal";this.secret=S.screenIdSecret||""},qq=function(S,W){return!!W&&(S.id==W||S.uuid==W)},yBH=function(S){return{name:S.name,
screenId:S.id,loungeToken:S.token,dialId:S.uuid,screenIdType:S.idType,screenIdSecret:S.secret}},YHx=function(S){return new T_(S)},GA8=function(S){return Array.isArray(S)?g.F9(S,YHx):[]},pA=function(S){return S?`{name:"${S.name}",id:${S.id.substr(0,6)}..,token:${S.token?".."+S.token.slice(-6):"-"},uuid:${S.uuid?".."+S.uuid.slice(-6):"-"},idType:${S.idType},secret:${S.secret?".."+S.secret.slice(-6):"-"}}`:"null"},FH=function(S){return Array.isArray(S)?"["+g.F9(S,pA).join(",")+"]":"null"},VD=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(S){const W=Math.random()*16|0;
return(S=="x"?W:W&3|8).toString(16)})},KIZ=function(S){return g.F9(S,function(W){return{key:W.id,
name:W.name}})},nA=function(S,W){return g.gN(S,function(m){return m||W?!m!=!W?!1:m.id==W.id:!0})},sF=function(S,W){return g.gN(S,function(m){return qq(m,W)})},T39=function(){const S=g.EA.Hx();
S&&C3N(S,S.R$.D7(!0))},uk=function(){const S=g.yM("yt-remote-connected-devices")||[];
g.P9(S);return S},qHZ=function(S){if(S.length==0)return[];
const W=S[0].indexOf("#"),m=W==-1?S[0]:S[0].substring(0,W);return g.F9(S,function(a,J){return J==0?a:a.substring(m.length)})},pvx=function(S){g.zN("yt-remote-connected-devices",S,86400)},OF=function(){if(gw)return gw;
let S=g.yM("yt-remote-device-id");S||(S=VD(),g.zN("yt-remote-device-id",S,31536E3));const W=uk();let m=1,a=S;for(;g.j$(W,a);)m++,a=S+"#"+m;return gw=a},jW=function(){let S=uk();
const W=OF();g.GN()&&g.kp(S,W);S=qHZ(S);if(S.length==0)try{g.zo("remote_sid")}catch(m){}else try{g.BU("remote_sid",S.join(","),-1)}catch(m){}},FIZ=function(){return g.yM("yt-remote-session-browser-channel")},VpZ=function(){return g.yM("yt-remote-local-screens")||[]},nqv=function(){g.zN("yt-remote-lounge-token-expiration",!0,86400)},sp$=function(S){S.length>5&&(S=S.slice(S.length-5));
const W=g.F9(VpZ(),function(a){return a.loungeToken}),m=g.F9(S,function(a){return a.loungeToken});
g.sQ(m,function(a){return!g.j$(W,a)})&&nqv();
g.zN("yt-remote-local-screens",S,31536E3)},QD=function(S){S||(g.YO("yt-remote-session-screen-id"),g.YO("yt-remote-session-video-id"));
jW();S=uk();g.v9(S,OF());pvx(S)},uFp=function(){if(!XH){const S=g.h$();
S&&(XH=new g.Mi(S))}},gq9=function(){uFp();
return XH?!!XH.get("yt-remote-use-staging-server"):!1},v7=function(S,W){g.EB[S]=!0;
const m=g.JZ();m&&m.publish.apply(m,arguments);g.EB[S]=!1},H7=function(){let S=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return S?parseInt(S[1],10):0},OLn=function(S){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+S)!=-1||document.currentScript.src.indexOf("&"+S)!=-1)},jpN=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},lk=function(S){S.length?Qp$(S.shift(),function(){lk(S)}):Mq()},Mq=function(){let S=jpN();
S&&S(!1,"No cast extension found")},Qp$=function(S,W,m){let a=document.createElement("script");
a.onerror=W;m&&(a.onload=m);g.Yk(a,g.mU(S));(document.head||document.documentElement).appendChild(a)},Xvv=function(S){return"chrome-extension://"+S+"/cast_sender.js"},vqn=function(){const S=H7(),W=[];
if(S>1){const m=S-1;W.push("//www.gstatic.com/eureka/clank/"+S+"/cast_sender.js");W.push("//www.gstatic.com/eureka/clank/"+m+"/cast_sender.js")}return W},UF=function(){if(HLQ){var S=2,W=jpN(),m=function(){S--;
S==0&&W&&W(!0)};
window.__onGCastApiAvailable=m;Qp$("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",Mq,m)}},lJp=function(){UF();
let S=vqn();S.push("//www.gstatic.com/eureka/clank/cast_sender.js");lk(S)},UY9=function(){UF();
let S=vqn();S.push(...MpZ.map(Xvv));S.push("//www.gstatic.com/eureka/clank/cast_sender.js");lk(S)},LA=function(S,W,m){g.JW.call(this);
this.W=m!=null?(0,g.D6)(S,m):S;this.m$=W;this.A=(0,g.D6)(this.Wb,this);this.C=!1;this.N=0;this.B=this.fn=null;this.j=[]},RM=function(){this.C=g.S$()},LIZ=function(){eW||(eW=new RM)},RrN=function(){eW||(eW=new RM)},xS=function(){g.BH.call(this,"p")},ik=function(){g.BH.call(this,"o")},dw=function(){return erZ=erZ||new g.vH},xYg=function(S){g.BH.call(this,"serverreachability",S)},IM=function(S){const W=dw();
W.dispatchEvent(new xYg(W,S))},iLw=function(S){g.BH.call(this,"statevent",S)},P7=function(S){const W=dw();
W.dispatchEvent(new iLw(W,S))},dYv=function(S,W,m,a){g.BH.call(this,"timingevent",S);
this.size=W;this.rtt=m;this.retries=a},fA=function(S,W){if(typeof S!=="function")throw Error("Fn must not be null and must be a function");
return g.P_.setTimeout(function(){S()},W)},kS=function(){},$S=function(S,W,m,a){this.B=S;
this.j=W;this.C3=m;this.x6=a||1;this.d2=new g.Ew(this);this.g2=45E3;this.GN=null;this.W=!1;this.S=this.ZQ=this.Z=this.cn=this.bY=this.hX=this.iY=null;this.U=[];this.C=null;this.V=0;this.A=this.vn=null;this.mU=-1;this.AX=!1;this.K_=0;this.TN=null;this.R2=this.Hn=this.p_=this.q2=!1;this.N=new IJ$},IJ$=function(){this.B=null;
this.C="";this.N=!1},h4=function(S,W,m){S.cn=1;
S.Z=J4(W.clone());S.S=m;S.q2=!0;P9$(S,null)},P9$=function(S,W){S.bY=Date.now();
t4(S);S.ZQ=S.Z.clone();B7(S.ZQ,"t",S.x6);S.V=0;const m=S.B.Hn;S.N=new IJ$;S.C=fJ$(S.B,m?W:null,!S.S);S.K_>0&&(S.TN=new g.WV((0,g.D6)(S.il,S,S.C),S.K_));S.d2.listen(S.C,"readystatechange",S.TH);W=S.GN?g.Jk(S.GN):{};S.S?(S.vn||(S.vn="POST"),W["Content-Type"]="application/x-www-form-urlencoded",S.C.send(S.ZQ,S.vn,S.S,W)):(S.vn="GET",S.C.send(S.ZQ,S.vn,null,W));IM(1)},$YH=function(S){if(!kAN(S))return g.xA(S.C);
const W=g.ie(S.C);if(W==="")return"";let m="";const a=W.length,J=g.Lu(S.C)==4;if(!S.N.B){if(typeof TextDecoder==="undefined")return A4(S),ZS(S),"";S.N.B=new g.P_.TextDecoder}for(let B=0;B<a;B++)S.N.N=!0,m+=S.N.B.decode(W[B],{stream:!(J&&B==a-1)});W.length=0;S.N.C+=m;S.V=0;return S.N.C},kAN=function(S){return S.C?S.vn=="GET"&&S.cn!=2&&S.B.a6:!1},tpg=function(S,W){var m=S.V,a=W.indexOf("\n",m);
if(a==-1)return Nq;m=Number(W.substring(m,a));if(isNaN(m))return hrp;a+=1;if(a+m>W.length)return Nq;W=W.slice(a,a+m);S.V=a+m;return W},t4=function(S){S.hX=Date.now()+S.g2;
ABg(S,S.g2)},ABg=function(S,W){if(S.iY!=null)throw Error("WatchDog timer not null");
S.iY=fA((0,g.D6)(S.Hb,S),W)},bk=function(S){S.iY&&(g.P_.clearTimeout(S.iY),S.iY=null)},ZS=function(S){S.B.lJ()||S.AX||ZLN(S.B,S)},A4=function(S){bk(S);
g.md(S.TN);S.TN=null;S.d2.removeAll();if(S.C){const W=S.C;S.C=null;W.abort();W.dispose()}},mi=function(S,W){try{var m=S.B;
if(m.fJ!=0&&(m.C==S||oM(m.N,S)))if(!S.Hn&&oM(m.N,S)&&m.fJ==3){try{var a=m.Ec.C.parse(W)}catch(Y){a=null}if(Array.isArray(a)&&a.length==3){var J=a;if(J[0]==0)a:{if(!m.Z){if(m.C)if(m.C.bY+3E3<S.bY)rw(m),CA(m);else break a;c7(m);P7(18)}}else m.BU=J[1],0<m.BU-m.cn&&J[2]<37500&&m.TN&&m.U==0&&!m.iY&&(m.iY=fA((0,g.D6)(m.nX,m),6E3));if(DS(m.N)<=1&&m.mU){try{m.mU()}catch(Y){}m.mU=void 0}}else ww(m,11)}else if((S.Hn||m.C==S)&&rw(m),!g.FZ(W))for(J=m.Ec.C.parse(W),W=0;W<J.length;W++){let Y=J[W];const G=Y[0];
if(!(G<=m.cn))if(m.cn=G,Y=Y[1],m.fJ==2)if(Y[0]=="c"){m.j=Y[1];m.C3=Y[2];const K=Y[3];K!=null&&(m.Nh=K);const T=Y[5];T!=null&&typeof T==="number"&&T>0&&(m.K_=1.5*T);a=m;const q=S.hZ();if(q){const V=g.IG(q,"X-Client-Wire-Protocol");if(V){var B=a.N;!B.C&&(g.V3(V,"spdy")||g.V3(V,"quic")||g.V3(V,"h2"))&&(B.j=B.A,B.C=new Set,B.N&&(Sk(B,B.N),B.N=null))}if(a.q2){const X=g.IG(q,"X-HTTP-Session-Id");X&&(a.Tm=X,g.wt(a.GN,a.q2,X))}}m.fJ=3;m.A&&m.A.y3();m.tv&&(m.K3=Date.now()-S.bY);a=m;var E=S;a.Sg=N3Z(a,a.Hn?
a.C3:null,a.sV);if(E.Hn){bL8(a.N,E);var z=E,y=a.K_;y&&z.setTimeout(y);z.iY&&(bk(z),t4(z));a.C=E}else oqZ(a);m.B.length>0&&Wy(m)}else Y[0]!="stop"&&Y[0]!="close"||ww(m,7);else m.fJ==3&&(Y[0]=="stop"||Y[0]=="close"?Y[0]=="stop"?ww(m,7):m.disconnect():Y[0]!="noop"&&m.A&&m.A.aS(Y),m.U=0)}IM(4)}catch(Y){}},rBN=function(S){this.A=S||10;
g.P_.PerformanceNavigationTiming?(S=g.P_.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(g.P_.chrome&&g.P_.chrome.loadTimes&&g.P_.chrome.loadTimes()&&g.P_.chrome.loadTimes().wasFetchedViaSpdy);this.j=S?this.A:1;this.C=null;this.j>1&&(this.C=new Set);this.N=null;this.B=[]},C9w=function(S){return S.N?!0:S.C?S.C.size>=S.j:!1},DS=function(S){return S.N?1:S.C?S.C.size:0},oM=function(S,W){return S.N?S.N==W:S.C?S.C.has(W):!1},Sk=function(S,
W){S.C?S.C.add(W):S.N=W},bL8=function(S,W){S.N&&S.N==W?S.N=null:S.C&&S.C.has(W)&&S.C.delete(W)},aO=function(S){if(S.N!=null)return S.B.concat(S.N.U);
if(S.C!=null&&S.C.size!==0){let W=S.B;for(const m of S.C.values())W=W.concat(m.U);return W}return g.Mx(S.B)},cBx=function(S,W){const m=new kS;
if(g.P_.Image){const a=new Image;a.onload=g.w7(Ja,m,"TestLoadImage: loaded",!0,W,a);a.onerror=g.w7(Ja,m,"TestLoadImage: error",!1,W,a);a.onabort=g.w7(Ja,m,"TestLoadImage: abort",!1,W,a);a.ontimeout=g.w7(Ja,m,"TestLoadImage: timeout",!1,W,a);g.P_.setTimeout(function(){if(a.ontimeout)a.ontimeout()},1E4);
a.src=S}else W(!1)},DYN=function(S,W){const m=new kS,a=new AbortController,J=setTimeout(()=>{a.abort();
Ja(m,"TestPingServer: timeout",!1,W)},1E4);
fetch(S,{signal:a.signal}).then(B=>{clearTimeout(J);B.ok?Ja(m,"TestPingServer: ok",!0,W):Ja(m,"TestPingServer: server error",!1,W)}).catch(()=>{clearTimeout(J);
Ja(m,"TestPingServer: error",!1,W)})},Ja=function(S,W,m,a,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),a(m)}catch(B){}},wv9=function(){this.C=new By},ED=function(S,W,m){return m&&m.Cg?m.Cg[S]||W:W},SXQ=function(S){this.B=[];
this.C3=this.Sg=this.GN=this.sV=this.C=this.Tm=this.q2=this.AX=this.V=this.p_=this.S=null;this.o6=this.ZQ=0;this.Ys=ED("failFast",!1,S);this.TN=this.iY=this.Z=this.W=this.A=null;this.yc=!0;this.BU=this.cn=-1;this.x6=this.U=this.bY=0;this.zC=ED("baseRetryDelayMs",5E3,S);this.cG=ED("retryDelaySeedMs",1E4,S);this.dA=ED("forwardChannelMaxRetries",2,S);this.Qc=ED("forwardChannelRequestTimeoutMs",2E4,S);this.I6=S&&S.sUU||void 0;this.Tk=S&&S.af_||void 0;this.a6=S&&S.TpN||!1;this.K_=void 0;this.Hn=S&&S.Cs||
!1;this.j="";this.N=new rBN(S&&S.Ud2);this.Fz=Math.min(S&&S.Nrn||1E3,1E3);this.Ec=new wv9;this.d2=S&&S.A1Q||!1;this.hX=S&&S.C$9||!1;this.d2&&this.hX&&(this.hX=!1);this.HG=S&&S.rw2||!1;S&&S.P$2&&(this.yc=!1);this.tv=!this.d2&&this.yc&&S&&S.xdn||!1;this.TV=void 0;S&&S.zx&&S.zx>0&&(this.TV=S.zx);this.mU=void 0;this.K3=0;this.g2=!1;this.R2=this.vn=null},CA=function(S){S.C&&(z0(S),S.C.cancel(),S.C=null)},WdN=function(S){CA(S);
S.Z&&(g.P_.clearTimeout(S.Z),S.Z=null);rw(S);S.N.cancel();S.W&&(typeof S.W==="number"&&g.P_.clearTimeout(S.W),S.W=null)},Wy=function(S){C9w(S.N)||S.W||(S.W=!0,g.tX(S.j0,S),S.bY=0)},alw=function(S,W){if(DS(S.N)>=S.N.j-(S.W?1:0))return!1;
if(S.W)return S.B=W.U.concat(S.B),!0;if(S.fJ==1||S.fJ==2||S.bY>=(S.Ys?0:S.dA))return!1;S.W=fA((0,g.D6)(S.j0,S,W),mOn(S,S.bY));S.bY++;return!0},BM9=function(S,W){var m;
W?m=W.C3:m=S.ZQ++;const a=S.GN.clone();g.wt(a,"SID",S.j);g.wt(a,"RID",m);g.wt(a,"AID",S.cn);ya(S,a);S.V&&S.S&&g.B6(a,S.V,S.S);m=new $S(S,S.j,m,S.bY+1);S.V===null&&(m.GN=S.S);W&&(S.B=W.U.concat(S.B));W=JWx(S,m,S.Fz);m.setTimeout(Math.round(S.Qc*.5)+Math.round(S.Qc*.5*Math.random()));Sk(S.N,m);h4(m,a,W)},ya=function(S,W){S.AX&&g.EP(S.AX,function(m,a){g.wt(W,a,m)});
S.A&&g.EP({},function(m,a){g.wt(W,a,m)})},JWx=function(S,W,m){m=Math.min(S.B.length,m);
const a=S.A?(0,g.D6)(S.A.VG,S.A,S):null;a:{var J=S.B;let z=-1;for(;;){const y=["count="+m];z==-1?m>0?(z=J[0].C,y.push("ofs="+z)):z=0:y.push("ofs="+z);let Y=!0;for(let G=0;G<m;G++){var B=J[G].C;const K=J[G].map;B-=z;if(B<0)z=Math.max(0,J[G].C-100),Y=!1;else try{B="req"+B+"_"||"";try{var E=K instanceof Map?K:Object.entries(K);for(const [T,q]of E){let V=q;g.bc(q)&&(V=g.sG(q));y.push(B+T+"="+encodeURIComponent(V))}}catch(T){throw y.push(B+"type="+encodeURIComponent("_badmap")),T;}}catch(T){a&&a(K)}}if(Y){E=
y.join("&");break a}}E=void 0}S=S.B.splice(0,m);W.U=S;return E},oqZ=function(S){S.C||S.Z||(S.x6=1,g.tX(S.Bf,S),S.U=0)},c7=function(S){if(S.C||S.Z||S.U>=3)return!1;
S.x6++;S.Z=fA((0,g.D6)(S.Bf,S),mOn(S,S.U));S.U++;return!0},z0=function(S){S.vn!=null&&(g.P_.clearTimeout(S.vn),S.vn=null)},EdN=function(S){S.C=new $S(S,S.j,"rpc",S.x6);
S.V===null&&(S.C.GN=S.S);S.C.K_=0;var W=S.Sg.clone();g.wt(W,"RID","rpc");g.wt(W,"SID",S.j);g.wt(W,"AID",S.cn);g.wt(W,"CI",S.TN?"0":"1");!S.TN&&S.TV&&g.wt(W,"TO",S.TV);g.wt(W,"TYPE","xmlhttp");ya(S,W);S.V&&S.S&&g.B6(W,S.V,S.S);S.K_&&S.C.setTimeout(S.K_);var m=S.C;S=S.C3;m.cn=1;m.Z=J4(W.clone());m.S=null;m.q2=!0;P9$(m,S)},rw=function(S){S.iY!=null&&(g.P_.clearTimeout(S.iY),S.iY=null)},ZLN=function(S,W){var m=null;
if(S.C==W){rw(S);z0(S);S.C=null;var a=2}else if(oM(S.N,W))m=W.U,bL8(S.N,W),a=1;else return;if(S.fJ!=0)if(W.W)if(a==1){m=W.S?W.S.length:0;W=Date.now()-W.bY;var J=S.bY;a=dw();a.dispatchEvent(new dYv(a,m,W,J));Wy(S)}else oqZ(S);else{var B=W.mU;J=W.getLastError();if(J==3||J==0&&B>0||!(a==1&&alw(S,W)||a==2&&c7(S)))switch(m&&m.length>0&&(W=S.N,W.B=W.B.concat(m)),J){case 1:ww(S,5);break;case 4:ww(S,10);break;case 3:ww(S,6);break;default:ww(S,2)}}},mOn=function(S,W){let m=S.zC+Math.floor(Math.random()*S.cG);
S.isActive()||(m*=2);return m*W},ww=function(S,W){if(W==2){var m=(0,g.D6)(S.IJ,S),a=S.Tk;
const J=!a;a=new g.AU(a||"//www.google.com/images/cleardot.gif");g.P_.location&&g.P_.location.protocol=="http"||g.ZV(a,"https");J4(a);J?cBx(a.toString(),m):DYN(a.toString(),m)}else P7(2);S.fJ=0;S.A&&S.A.IS(W);zhN(S);WdN(S)},zhN=function(S){S.fJ=0;
S.R2=[];if(S.A){const W=aO(S.N);if(W.length!=0||S.B.length!=0)g.UQ(S.R2,W),g.UQ(S.R2,S.B),S.N.B.length=0,g.Mx(S.B),S.B.length=0;S.A.qh()}},yWv=function(S){if(S.fJ==0)return S.R2;
let W=[];g.UQ(W,aO(S.N));g.UQ(W,S.B);return W},N3Z=function(S,W,m){var a=g.n6(m);
a.C!=""?(W&&g.b6(a,W+"."+a.C),g.oa(a,a.B)):(a=g.P_.location,a=SHx(a.protocol,W?W+"."+a.hostname:a.hostname,+a.port,m));W=S.q2;m=S.Tm;W&&m&&g.wt(a,W,m);g.wt(a,"VER",S.Nh);ya(S,a);return a},fJ$=function(S,W,m){if(W&&!S.Hn)throw Error("Can't create secondary domain capable XhrIo object.");
W=S.a6&&!S.I6?new g.Xc(new g.fE({pL:m})):new g.Xc(S.I6);W.V=S.Hn;return W},YXv=function(){},Gf$=function(){},G0=function(S,W){g.vH.call(this);
this.C=new SXQ(W);this.W=S;this.N=W&&W.Rt||null;S=W&&W.kS||null;W&&W.Sc_&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"});this.C.S=S;S=W&&W.Ui9||null;W&&W.mj&&(S?S["X-WebChannel-Content-Type"]=W.mj:S={"X-WebChannel-Content-Type":W.mj});W&&W.tW&&(S?S["X-WebChannel-Client-Profile"]=W.tW:S={"X-WebChannel-Client-Profile":W.tW});this.C.p_=S;(S=W&&W.DiY)&&!g.FZ(S)&&(this.C.V=S);this.V=W&&W.Cs||!1;this.A=W&&W.m69||!1;(W=W&&W.eW)&&!g.FZ(W)&&(this.C.q2=W,g.rN(this.N,W)&&(S=this.N,
W in S&&delete S[W]));this.B=new Yh(this)},Kdp=function(S){xS.call(this);
S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);const W=S.__sm__;W?this.data=(this.C=g.ZZ(W))?g.mX(W,this.C):W:this.data=S},TMZ=function(S){ik.call(this);
this.status=1;this.errorCode=S},Yh=function(S){this.C=S},Kr=function(S,W){this.j=S;
this.C=W},T0=function(S,W){if(typeof S!=="function")throw Error("Fn must not be null and must be a function");
return g.P_.setTimeout(function(){S()},W)},pr=function(){q0.dispatchEvent(new qX8)},FI=function(S,W,m,a){this.C=S;
this.j=W;this.V=m;this.W=a||1;this.N=45E3;this.B=new g.Ew(this);this.A=new g.mu;this.A.setInterval(250)},Fd9=function(S,W,m){S.IE=1;
S.u0=J4(W.clone());S.xk=m;S.q2=!0;p4N(S,null)},Va=function(S,W,m,a,J){S.IE=1;
S.u0=J4(W.clone());S.xk=null;S.q2=m;J&&(S.X$=!1);p4N(S,a)},p4N=function(S,W){S.o7=Date.now();
nr(S);S.ql=S.u0.clone();B7(S.ql,"t",S.W);S.Al=0;S.wi=S.C.XT(S.C.CT()?W:null);S.P_>0&&(S.jd=new g.WV((0,g.D6)(S.wW,S,S.wi),S.P_));S.B.listen(S.wi,"readystatechange",S.ZP);W=S.uF?g.Jk(S.uF):{};S.xk?(S.aE="POST",W["Content-Type"]="application/x-www-form-urlencoded",S.wi.send(S.ql,S.aE,S.xk,W)):(S.aE="GET",S.X$&&!g.Td&&(W.Connection="close"),S.wi.send(S.ql,S.aE,null,W));S.C.lR(1)},ndv=function(S,W){var m=S.Al,a=W.indexOf("\n",m);
if(a==-1)return sD;m=Number(W.substring(m,a));if(isNaN(m))return VKN;a+=1;if(a+m>W.length)return sD;W=W.slice(a,a+m);S.Al=a+m;return W},nr=function(S){S.Gg=Date.now()+S.N;
sC9(S,S.N)},sC9=function(S,W){if(S.L9!=null)throw Error("WatchDog timer not null");
S.L9=T0((0,g.D6)(S.Ok,S),W)},uAn=function(S){S.L9&&(g.P_.clearTimeout(S.L9),S.L9=null)},uC=function(S){S.C.lJ()||S.xL||S.C.H_(S)},gQ=function(S){uAn(S);
g.md(S.jd);S.jd=null;S.A.stop();S.B.removeAll();if(S.wi){const W=S.wi;S.wi=null;W.abort();W.dispose()}S.wK&&(S.wK=null)},gdn=function(S,W){try{S.C.As(S,W),S.C.lR(4)}catch(m){}},jC9=function(S,W,m,a,J){if(a==0)m(!1);
else{var B=J||0;a--;OVw(S,W,function(E){E?m(!0):g.P_.setTimeout(function(){jC9(S,W,m,a,B)},B)})}},OVw=function(S,W,m){const a=new Image;
a.onload=function(){try{OD(a),m(!0)}catch(J){}};
a.onerror=function(){try{OD(a),m(!1)}catch(J){}};
a.onabort=function(){try{OD(a),m(!1)}catch(J){}};
a.ontimeout=function(){try{OD(a),m(!1)}catch(J){}};
g.P_.setTimeout(function(){if(a.ontimeout)a.ontimeout()},W);
a.src=S},OD=function(S){S.onload=null;
S.onerror=null;S.onabort=null;S.ontimeout=null},QCx=function(S){this.C=S;
this.N=new By},X49=function(S){const W=jk(S.C,S.Tv,"/mail/images/cleardot.gif");
J4(W);jC9(W.toString(),5E3,(0,g.D6)(S.kH,S),3,2E3);S.lR(1)},XI=function(S){var W=S.C.W;
W!=null?(pr(),W?(pr(),Qa(S.C,S,!1)):(pr(),Qa(S.C,S,!0))):(S.lZ=new FI(S),S.lZ.uF=S.W_,W=S.C,W=jk(W,W.CT()?S.c9:null,S.Tg),pr(),B7(W,"TYPE","xmlhttp"),Va(S.lZ,W,!1,S.c9,!1))},vy=function(S,W,m){this.C=1;
this.N=[];this.B=[];this.A=new By;this.S=S||null;this.W=W!=null?W:null;this.Z=m||!1},vdg=function(S,W){this.C=S;
this.map=W;this.context=null},HVw=function(S,W,m,a){g.BH.call(this,"timingevent",S);
this.size=W;this.rtt=m;this.retries=a},llN=function(S){g.BH.call(this,"serverreachability",S)},MKH=function(S){S.Ek(1,0);
S.P9=jk(S,null,S.nO);Hy(S)},UON=function(S){S.eJ&&(S.eJ.abort(),S.eJ=null);
S.M6&&(S.M6.cancel(),S.M6=null);S.Ri&&(g.P_.clearTimeout(S.Ri),S.Ri=null);lC(S);S.iZ&&(S.iZ.cancel(),S.iZ=null);S.KA&&(g.P_.clearTimeout(S.KA),S.KA=null)},M0=function(S,W){if(S.C==0)throw Error("Invalid operation: sending map when state is closed");
S.N.push(new vdg(S.LX++,W));S.C!=2&&S.C!=3||Hy(S)},Ldw=function(S){let W=0;
S.M6&&W++;S.iZ&&W++;return W},Hy=function(S){S.iZ||S.KA||(S.KA=T0((0,g.D6)(S.X5,S),0),S.rf=0)},ehx=function(S,W){if(S.C==1){if(!W){S.vl=Math.floor(Math.random()*1E5);
W=S.vl++;const m=new FI(S,"",W);m.uF=S.hm;const a=UD(S),J=S.P9.clone();g.wt(J,"RID",W);g.wt(J,"CVER","1");Lr(S,J);Fd9(m,J,a);S.iZ=m;S.C=2}}else S.C==3&&(W?Rhv(S,W):S.N.length==0||S.iZ||Rhv(S))},Rhv=function(S,W){if(W)if(S.Mm>6){S.N=S.B.concat(S.N);
S.B.length=0;var m=S.vl-1;W=UD(S)}else m=W.V,W=W.xk;else m=S.vl++,W=UD(S);const a=S.P9.clone();g.wt(a,"SID",S.j);g.wt(a,"RID",m);g.wt(a,"AID",S.Jd);Lr(S,a);m=new FI(S,S.j,m,S.rf+1);m.uF=S.hm;m.setTimeout(1E4+Math.round(1E4*Math.random()));S.iZ=m;Fd9(m,a,W)},Lr=function(S,W){S.mT&&(S=S.mT.n4())&&g.EP(S,function(m,a){g.wt(W,a,m)})},UD=function(S){const W=Math.min(S.N.length,1E3),m=["count="+W];
let a;S.Mm>6&&W>0?(a=S.N[0].C,m.push("ofs="+a)):a=0;for(let J=0;J<W;J++){let B=S.N[J].C;const E=S.N[J].map;B=S.Mm<=6?J:B-a;try{g.EP(E,function(z,y){m.push("req"+B+"_"+y+"="+encodeURIComponent(z))})}catch(z){m.push("req"+B+"_type="+encodeURIComponent("_badmap"))}}S.B=S.B.concat(S.N.splice(0,W));
return m.join("&")},xON=function(S){S.M6||S.Ri||(S.V=1,S.Ri=T0((0,g.D6)(S.GE,S),0),S.K9=0)},RO=function(S){if(S.M6||S.Ri||S.K9>=3)return!1;
S.V++;S.Ri=T0((0,g.D6)(S.GE,S),iVp(S,S.K9));S.K9++;return!0},Qa=function(S,W,m){S.z4=S.W==null?m:!S.W;
S.O_=W.k0;S.Z||MKH(S)},lC=function(S){S.Cj!=null&&(g.P_.clearTimeout(S.Cj),S.Cj=null)},iVp=function(S,W){let m=5E3+Math.floor(Math.random()*1E4);
S.isActive()||(m*=2);return m*W},ek=function(S,W){if(W==2||W==9){var m=null;
S.mT&&(m=null);var a=(0,g.D6)(S.qO,S);m||(m=new g.AU("//www.google.com/images/cleardot.gif"),J4(m));OVw(m.toString(),1E4,a)}else pr();dOH(S,W)},dOH=function(S,W){S.C=0;
S.mT&&S.mT.Wf(W);IlH(S);UON(S)},IlH=function(S){S.C=0;
S.O_=-1;if(S.mT)if(S.B.length==0&&S.N.length==0)S.mT.VR();else{const W=g.Mx(S.B),m=g.Mx(S.N);S.B.length=0;S.N.length=0;S.mT.VR(W,m)}},jk=function(S,W,m){let a=g.n6(m);
if(a.C!="")W&&g.b6(a,W+"."+a.C),g.oa(a,a.B);else{const J=window.location;a=SHx(J.protocol,W?W+"."+J.hostname:J.hostname,+J.port,m)}S.NV&&g.EP(S.NV,function(J,B){g.wt(a,B,J)});
g.wt(a,"VER",S.Mm);Lr(S,a);return a},PXQ=function(){},flH=function(){this.C=[];
this.N=[]},kfQ=function(S,W){this.action=S;
this.params=W||{}},xh=function(S,W){g.JW.call(this);
this.C=new g.rr(this.S_,0,this);g.R(this,this.C);this.m$=5E3;this.retryCount=this.Kl=0;if(typeof S==="function")W&&(S=(0,g.D6)(S,W));else if(S&&typeof S.handleEvent==="function")S=(0,g.D6)(S.handleEvent,S);else throw Error("Invalid listener argument");this.N=S},iC=function(S,W,m=!1,a=()=>"",J=!1,B=!1,E=!1,z=()=>g.kZ({}),y=!1,Y,G=!1,K=!1,T=!1,q=!1,V,X){this.TN=S;
this.bY=W;this.Z=new g.lO;this.W=X;this.N=(this.B=!!V)?V(()=>{this.RB()}):new xh(this.RB,this);
this.C=null;this.S=!1;this.U=null;this.q2="";this.vn=this.iY=0;this.j=[];this.C3=m;this.GN=a;this.V=B;this.Hn=z;this.cn=Y;this.sV=E;this.AX=null;this.A=g.kZ();this.yc=J;this.x6=y;this.p_=G;this.mU=K;this.tv=T;this.R2=q;this.hX=new $O9;this.ZQ=new hhg;this.d2=new tKv;this.g2=new AW9;this.K_=new ZVN;this.K3=new NM$;this.TV=new bVx},od9=function(S,W,m,a,J){dQ(S);
if(S.C){const B=g.k("ID_TOKEN"),E=S.C.hm||{};B?E["x-youtube-identity-token"]=B:delete E["x-youtube-identity-token"];S.C.hm=E}IO(S);a?(a.getState()!=3&&Ldw(a)==0||a.getState(),S.C.connect(W,m,S.bY,a.j,a.Jd)):J?S.C.connect(W,m,S.bY,J.sessionId,J.arrayId):S.C.connect(W,m,S.bY);S.B&&!S.N.isActive()&&S.N.start();S.W&&S.W.yV_()},DOx=function(S,W){return S.tv?!0:S.mU?Object.values(rW8).includes(W):S.p_?!Object.values(CX9).includes(W):S.R2?Object.values(cWH).includes(W):!1},w4N=async function(S){try{await Py(S)}finally{var W=
S.j;
S.j=[];var m=W;W=W.length;for(let a=0;a<W;++a)M0(S.C,m[a]);fr(S);fr(S)}},fr=function(S){S.publish("handlerOpened");
S.hX.C("BROWSER_CHANNEL")},dQ=function(S){if(S.C){const W=S.GN(),m=S.C.hm||{};
W?m["x-youtube-lounge-xsrf-token"]=W:delete m["x-youtube-lounge-xsrf-token"];S.C.hm=m}},Py=function(S){if(S.x6)return g.kZ();
if(!S.sV)return SOp(S);S.AX===null&&(S.AX=SOp(S));return S.AX},SOp=function(S){return g.bs(S.Hn().then(W=>{W4$(S,W)}).S1(()=>{}),()=>{S.AX=null})},W4$=function(S,W){if(S.C){let m=S.C.hm||{};
W&&Object.keys(W).length>0?m={...m,...W}:delete m.Authorization;S.C.hm=m}},IO=function(S){S.cn&&!S.V&&W4$(S,S.cn())},kh=function(S){this.scheme="https";
this.port=this.domain="";this.C="/api/lounge";this.N=!0;S=S||document.location.href;const W=Number(g.zA(S)[4]||null)||"";W&&(this.port=":"+W);this.domain=g.Yq(S)||"";S=g.gh();S.search("MSIE")>=0&&(S=S.match(/MSIE ([\d.]+)/)[1],g.uH(S,"10.0")<0&&(this.N=!1))},$h=function(S,W){let m=S.C;
S.N&&(m=S.scheme+"://"+S.domain+S.port+S.C);return g.u9(m+W,{})},mrH=function(S){g.pR(S.channel,"m",()=>{S.W=3;
S.B.reset();S.Z=null;S.V=0;for(const W of S.U)S.channel&&S.channel.send(W);S.U=[];S.publish("webChannelOpened");S.GN.C("WEB_CHANNEL")});
g.pR(S.channel,"n",()=>{S.W=0;S.B.isActive()||S.publish("webChannelClosed");const W=S.channel?.j().B();W&&(S.U=[...W]);S.vn.C("WEB_CHANNEL")});
g.pR(S.channel,"p",W=>{const m=W.data;m[0]==="gracefulReconnect"?(S.B.start(),S.channel&&S.channel.close()):S.publish("webChannelMessage",new kfQ(m[0],m[1]));S.gr=W.statusCode;S.AX.C("WEB_CHANNEL")});
g.pR(S.channel,"o",()=>{S.gr===401||S.B.start();S.publish("webChannelError");S.q2.C("WEB_CHANNEL","")})},ha=function(S){const W=S.bY();
W?S.j["x-youtube-lounge-xsrf-token"]=W:delete S.j["x-youtube-lounge-xsrf-token"]},EvZ=function(S,W,m=()=>"",a,J){const B=()=>new iC($h(S,"/bc"),W,!1,m,a);
return g.fO("enable_mdx_web_channel_desktop")?new agp(()=>new JVQ($h(S,"/wc"),W,m)):new BGv(B,J)},Gu9=function(){var S=z7$;
yVn();ta.push(S);YOw()},Aa=function(S,W){yVn();
const m=K4N(S,String(W));ta.length==0?TG9(m):(YOw(),g.Tg(ta,function(a){a(m)}))},ZG=function(S){Aa("CP",S)},yVn=function(){ta||(ta=g.tG("yt.mdx.remote.debug.handlers_")||[],g.f6("yt.mdx.remote.debug.handlers_",ta))},TG9=function(S){const W=(N0+1)%50;
N0=W;bC[W]=S;oO||(oO=W==49)},YOw=function(){var S=ta;
if(bC[0]){var W=oO?N0:-1;do{W=(W+1)%50;const m=bC[W];g.Tg(S,function(a){a(m)})}while(W!=N0);
bC=Array(50);N0=-1;oO=!1}},K4N=function(S,W){let m=(Date.now()-qOx)/1E3;
m.toFixed&&(m=m.toFixed(3));const a=[];a.push("[",m+"s","] ");a.push("[","yt.mdx.remote","] ");a.push(S+": "+W,"\n");return a.join("")},rQ=function(S){g.yf.call(this);
this.W=S;this.screens=[]},pMw=function(S,W){const m=S.get(W.uuid)||S.get(W.id);
if(m)return S=m.name,m.id=W.id||m.id,m.name=W.name,m.token=W.token,m.uuid=W.uuid||m.uuid,m.name!=S;S.screens.push(W);return!0},F4g=function(S,W){let m=S.screens.length!=W.length;
S.screens=g.qx(S.screens,function(J){return!!nA(W,J)});
const a=W.length;for(let J=0;J<a;J++)m=pMw(S,W[J])||m;return m},VLv=function(S,W){const m=S.screens.length;
S.screens=g.qx(S.screens,function(a){return!(a||W?!a!=!W?0:a.id==W.id:1)});
return S.screens.length<m},cy=function(S){rQ.call(this,"LocalScreenService");
this.N=S;this.C=NaN;Cr(this);this.info("Initializing with "+FH(this.screens))},nvp=function(S){if(S.screens.length){const W=g.F9(S.screens,function(a){return a.id}),m=$h(S.N,"/pairing/get_lounge_token_batch");
S.N.sendRequest("POST",m,{screen_ids:W.join(",")},(0,g.D6)(S.SW,S),(0,g.D6)(S.D1,S))}},Cr=function(S){if(g.fO("deprecate_pair_servlet_enabled"))return F4g(S,[]);
var W=GA8(VpZ());W=g.qx(W,function(m){return!m.uuid});
return F4g(S,W)},DG=function(S,W){sp$(g.F9(S.screens,yBH));
W&&nqv()},wQ=function(S){Aa("OnlineScreenService",S)},Sc=function(S){isNaN(S.B)||g.da(S.B);
S.B=g.xo((0,g.D6)(S.V,S),S.j>0&&S.j<g.S$()?2E4:1E4)},Ww=function(S,W){a:if(EF(W)!=EF(S.C))var m=!1;
else{m=g.oZ(W);var a=m.length;for(let J=0;J<a;++J)if(!S.C[m[J]]){m=!1;break a}m=!0}m||(wQ("Updated online screens: "+g.sG(S.C)),S.C=W,S.publish("screenChange"));sDN(S)},mf=function(S,W,m){const a=$h(S.A,"/pairing/get_screen_availability");
S.A.sendRequest("POST",a,{lounge_token:W.token},(0,g.D6)(function(J){J=J.screens||[];const B=J.length;for(let E=0;E<B;++E)if(J[E].loungeToken==W.token){m(J[E].status=="online");return}m(!1)},S),(0,g.D6)(function(){m(!1)},S))},sDN=function(S){S=g.oZ(g.hN(S.C,function(W){return W}));
g.P9(S);S.length?g.zN("yt-remote-online-screen-ids",S.join(","),60):g.YO("yt-remote-online-screen-ids")},u_n=function(S){const W={};
g.Tg(S.W(),function(m){m.token?W[m.token]=m.id:this.AO("Requesting availability of screen w/o lounge token.")});
return W},aq=function(S,W=!1){rQ.call(this,"ScreenService");
this.j=S;this.V=W;this.C=this.N=null;this.B=[];this.A={};gvQ(this)},jDp=function(S,W,m,a,J,B){S.info("getAutomaticScreenByIds "+m+" / "+W);
m||(m=S.A[W]);const E=S.oo();let z=m?sF(E,m):null;m&&(S.V||z)||(z=sF(E,W));if(z){z.uuid=W;const y=J7(S,z);mf(S.C,y,function(Y){J(Y?y:null)})}else m?OYH(S,m,(0,g.D6)(function(y){const Y=J7(this,new T_({name:a,
screenId:m,loungeToken:y,dialId:W||""}));mf(this.C,Y,function(G){J(G?Y:null)})},S),B):J(null)},QD8=function(S,W){const m=S.screens.length;
for(let a=0;a<m;++a)if(S.screens[a].name==W)return S.screens[a];return null},XMN=function(S,W,m){mf(S.C,W,m)},OYH=function(S,W,m,a){S.info("requestLoungeToken_ for "+W);
const J={postParams:{screen_ids:W},method:"POST",context:S,onSuccess:function(B,E){B=E&&E.screens||[];B[0]&&B[0].screenId==W?m(B[0].loungeToken):a(Error("Missing lounge token in token response"))},
onError:function(){a(Error("Request screen lounge token failed"))}};
g.Zf($h(S.j,"/pairing/get_lounge_token_batch"),J)},vvN=function(S){S.screens=S.N.oo();
var W=S.A;const m={};for(var a in W)m[W[a]]=a;W=S.screens.length;for(a=0;a<W;++a){const J=S.screens[a];J.uuid=m[J.id]||""}S.info("Updated manual screens: "+FH(S.screens))},gvQ=function(S){Bw(S);
S.N=new cy(S.j);S.N.subscribe("screenChange",(0,g.D6)(S.dn,S));vvN(S);S.V||(S.B=GA8(g.yM("yt-remote-automatic-screen-cache")||[]));Bw(S);S.info("Initializing automatic screens: "+FH(S.B));S.C=new HYw(S.j,(0,g.D6)(S.oo,S,!0));S.C.subscribe("screenChange",(0,g.D6)(function(){this.publish("onlineScreenChange")},S))},J7=function(S,W){var m=S.get(W.id);
m?(m.uuid=W.uuid,W=m):((m=sF(S.B,W.uuid))?(m.id=W.id,m.token=W.token,W=m):S.B.push(W),S.V||lgg(S));Bw(S);S.A[W.uuid]=W.id;g.zN("yt-remote-device-id-map",S.A,31536E3);return W},lgg=function(S){S=g.qx(S.B,W=>W.idType!="shortLived");
g.zN("yt-remote-automatic-screen-cache",g.F9(S,yBH))},Bw=function(S){S.A=g.yM("yt-remote-device-id-map")||{}},ES=function(S,W,m){g.yf.call(this);
this.q2=m;this.j=S;this.N=W;this.C=null},zT=function(S,W){S.C=W;
S.publish("sessionScreen",S.C)},MLg=function(S,W){S.C&&(S.C.token=W,J7(S.j,S.C));
S.publish("sessionScreen",S.C)},y5=function(S,W){Aa(S.q2,W)},L49=function(S,W){g.da(S.iY);
S.iY=0;W?S.config_.enableCastLoungeToken&&W.loungeToken?W.deviceId?S.C&&S.C.uuid==W.deviceId||(W.loungeTokenRefreshIntervalMs?UrQ(S,{name:S.N.friendlyName,screenId:W.screenId,loungeToken:W.loungeToken,dialId:W.deviceId,screenIdType:"shortLived"},W.loungeTokenRefreshIntervalMs):(g.GH(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(W)}.`)),Y4(S,W.screenId))):(g.GH(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(W)}.`)),Y4(S,W.screenId)):
Y4(S,W.screenId):S.gi(Error("Waiting for session status timed out."))},R7$=function(S){g.da(S.S);
S.S=0;g.da(S.V);S.V=0;g.da(S.iY);S.iY=0;g.da(S.A);S.A=0;g.da(S.Z);S.Z=0},e7g=function(S,W){S.info("sendYoutubeMessage_: "+W+" "+g.sG());
const m={};m.type=W;S.B?S.B.sendMessage("urn:x-cast:com.google.youtube.mdx",m,()=>{},(0,g.D6)(function(){y5(this,"Failed to send message: "+W+".")},S)):y5(S,"Sending yt message without session: "+g.sG(m))},iY9=function(S){e7g(S,"getLoungeToken");
g.da(S.A);S.A=g.xo(()=>{xrn(S,null)},3E4)},GT=function(S,W){g.da(S.Z);
S.Z=0;W==0?iY9(S):S.Z=g.xo(()=>{iY9(S)},W)},xrn=function(S,W){g.da(S.A);
S.A=0;let m=null;W?W.loungeToken?S.C?.token==W.loungeToken&&(m="staleLoungeToken"):m="missingLoungeToken":m="noLoungeTokenResponse";m?(S.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(W)}, error: ${m}`),GT(S,3E4)):(MLg(S,W.loungeToken),GT(S,W.loungeTokenRefreshIntervalMs))},Y4=function(S,W){W?(S.info("onConnectedScreenId_: Received screenId: "+W),S.C&&S.C.id==W||S.AX(W,m=>{zT(S,m)},()=>S.gi(),5)):S.gi(Error("Waiting for session status timed out."))},drv=
function(S,W,m,a){g.da(S.V);
S.V=0;XMN(S.j,W,J=>{J||a<0?m(J):S.V=g.xo(()=>{drv(S,W,m,a-1)},300)})},UrQ=function(S,W,m){S.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(W)}`);
const a=new T_(W);drv(S,a,J=>{J?(J7(S.j,a),zT(S,a),GT(S,m)):(g.GH(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(W)} is not online.`)),S.gi())},5)},KH=function(S){return new Promise(W=>{S.bY=VD();
if(S.GN){const m=new chrome.cast.DialLaunchResponse(!0,IgZ(S));W(m);PMH(S)}else S.U=()=>{g.da(S.iY);S.U=()=>{};
S.iY=NaN;const m=new chrome.cast.DialLaunchResponse(!0,IgZ(S));W(m);PMH(S)},S.iY=g.xo(()=>{S.U()},100)})},fg9=function(S){g.da(S.V);
S.V=0;g.da(S.Z);S.Z=0;S.A();S.A=()=>{};
g.da(S.iY)},TT=function(S){return!(!S.config_.enableDialLoungeToken||!S.B?.getDialAppInfo)},qh=function(S,W){S.info(`getDialAppInfoWithTimeout_ ${W}`);
TT(S)&&(g.da(S.Z),S.Z=0,W==0?kuw(S):S.Z=g.xo(()=>{kuw(S)},W))},PMH=function(S){S.A=S.j.OJ(S.bY,S.N.label,S.N.friendlyName,TT(S),(W,m)=>{S.A=()=>{};
zT(S,W);W.idType=="shortLived"&&m>0&&qh(S,m)},W=>{S.A=()=>{};
S.gi(W)})},IgZ=function(S){var W={};
W.pairingCode=S.bY;W.theme=S.cn;gq9()&&(W.env_useStageMdx=1);return g.sH(W)},$rv=function(S,W){const m=S.S.receiver.label,a=S.N.friendlyName;
return(new Promise(J=>{jDp(S.j,m,W,a,B=>{B&&B.token&&zT(S,B);J(B)},B=>{y5(S,"Failed to get DIAL screen: "+B);
J(null)})})).then(J=>J&&J.token?new chrome.cast.DialLaunchResponse(!1):KH(S))},tLw=function(S,W,m){S.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(W)}`);
const a=new T_(W);return(new Promise(J=>{h7p(S,a,B=>{B?(J7(S.j,a),zT(S,a),qh(S,m)):g.GH(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(W)} is not online.`));J(B)},5)})).then(J=>J?new chrome.cast.DialLaunchResponse(!1):KH(S))},h7p=function(S,W,m,a){g.da(S.V);
S.V=0;XMN(S.j,W,J=>{J||a<0?m(J):S.V=g.xo(()=>{h7p(S,W,m,a-1)},300)})},kuw=function(S){TT(S)&&S.B.getDialAppInfo(W=>{S.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(W)}`);
W=W.extraData||{};let m=null;W.loungeToken?S.C?.token==W.loungeToken&&(m="staleLoungeToken"):m="missingLoungeToken";m?qh(S,3E4):(MLg(S,W.loungeToken),qh(S,W.loungeTokenRefreshIntervalMs))},W=>{S.info(`getDialAppInfo error: ${W}`);
qh(S,3E4)})},z7$=function(S){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(S)},ZYZ=function(S){const W=S.N.V3();
let m=S.C&&S.C.N;S=g.F9(W,function(a){m&&qq(a,m.label)&&(m=null);const J=a.uuid?a.uuid:a.id;let B=AVg(this,a);B?(B.label=J,B.friendlyName=a.name):(B=new chrome.cast.Receiver(J,a.name),B.receiverType=chrome.cast.ReceiverType.CUSTOM);return B},S);
m&&(m.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(m=new chrome.cast.Receiver(m.label,m.friendlyName),m.receiverType=chrome.cast.ReceiverType.CUSTOM),S.push(m));return S},pH=function(S){return S.Z||!!S.B.length||!!S.C},F7=function(S){Aa("Controller",S)},V5=function(S,W,m){W!=S.C&&(g.md(S.C),(S.C=W)?(m?S.publish("yt-remote-cast2-receiver-resumed",W.N):S.publish("yt-remote-cast2-receiver-selected",W.N),W.subscribe("sessionScreen",(0,g.D6)(S.iY,S,W)),W.subscribe("sessionFailed",()=>NGQ(S,W)),W.C?
S.publish("yt-remote-cast2-session-change",W.C):m&&S.C.W(null)):S.publish("yt-remote-cast2-session-change",null))},AVg=function(S,W){return W?g.gN(S.B,function(m){return qq(W,m.label)},S):null},NGQ=function(S,W){S.C==W&&S.publish("yt-remote-cast2-session-failed")},Dr9=function(S,W,m,a){a.disableCastApi?nH("Cannot initialize because disabled by Mdx config."):bYN()?ovn(W,a)&&(sS(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?rVQ(S,m):(window.__onGCastApiAvailable=function(J,B){J?rVQ(S,m):(ub("Failed to load cast API: "+
B),gV(!1),sS(!1),g.YO("yt-remote-cast-available"),g.YO("yt-remote-cast-receiver"),CMw(),m(!1))},a.loadCastApiSetupScript?g.K8(cVN):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?H7()>=60&&lJp():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?Mq():H7()>=89?UY9():(UF(),lk(MpZ.map(Xvv))))):nH("Cannot initialize because not running Chrome")},CMw=function(){nH("dispose");
const S=OS();S&&S.dispose();g.f6("yt.mdx.remote.cloudview.instance_",null);wM8(!1);g.Yy(jc);jc.length=0},Q5=function(){return!!g.yM("yt-remote-cast-installed")},SI9=function(){const S=g.yM("yt-remote-cast-receiver");
return S?S.friendlyName:null},WAg=function(){nH("clearCurrentReceiver");
g.YO("yt-remote-cast-receiver")},mk9=function(){return Q5()?OS()?OS().getCastSession():(ub("getCastSelector: Cast is not initialized."),null):(ub("getCastSelector: Cast API is not installed!"),null)},vw=function(){Q5()?OS()?X7()?(nH("Requesting cast selector."),OS().requestSession()):(nH("Wait for cast API to be ready to request the session."),jc.push(g.yG("yt-remote-cast2-api-ready",vw))):ub("requestCastSelector: Cast is not initialized."):ub("requestCastSelector: Cast API is not installed!")},Hw=
function(S,W){X7()?OS().setConnectedScreenStatus(S,W):ub("setConnectedScreenStatus called before ready.")},bYN=function(){var S=g.gh().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.rE||S},aM$=function(S,W){OS().init(S,W)},ovn=function(S,W){let m=!1;
OS()||(S=new lb(S,W),S.subscribe("yt-remote-cast2-availability-change",function(a){g.zN("yt-remote-cast-available",a);v7("yt-remote-cast2-availability-change",a)}),S.subscribe("yt-remote-cast2-receiver-selected",function(a){nH("onReceiverSelected: "+a.friendlyName);
g.zN("yt-remote-cast-receiver",a);v7("yt-remote-cast2-receiver-selected",a)}),S.subscribe("yt-remote-cast2-receiver-resumed",function(a){nH("onReceiverResumed: "+a.friendlyName);
g.zN("yt-remote-cast-receiver",a);v7("yt-remote-cast2-receiver-resumed",a)}),S.subscribe("yt-remote-cast2-session-change",function(a){nH("onSessionChange: "+pA(a));
a||g.YO("yt-remote-cast-receiver");v7("yt-remote-cast2-session-change",a)}),g.f6("yt.mdx.remote.cloudview.instance_",S),m=!0);
nH("cloudview.createSingleton_: "+m);return m},OS=function(){return g.tG("yt.mdx.remote.cloudview.instance_")},rVQ=function(S,W){gV(!0);
sS(!1);aM$(S,function(m){m?(wM8(!0),g.G3("yt-remote-cast2-api-ready")):(ub("Failed to initialize cast API."),gV(!1),g.YO("yt-remote-cast-available"),g.YO("yt-remote-cast-receiver"),CMw());W(m)})},nH=function(S){Aa("cloudview",S)},ub=function(S){Aa("cloudview",S)},gV=function(S){nH("setCastInstalled_ "+S);
g.zN("yt-remote-cast-installed",S)},X7=function(){return!!g.tG("yt.mdx.remote.cloudview.apiReady_")},wM8=function(S){nH("setApiReady_ "+S);
g.f6("yt.mdx.remote.cloudview.apiReady_",S)},sS=function(S){g.f6("yt.mdx.remote.cloudview.initializing_",S)},Mh=function(S){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.A=this.W=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.B=this.V=this.N=0;this.C=NaN;this.j=!1;this.reset(S)},US=function(S){S.audioTrackId=null;
S.trackData=null;S.playerState=-1;S.hasPrevious=!1;S.hasNext=!1;S.W=0;S.A=g.S$();S.N=0;S.V=0;S.B=0;S.loadedTime=0;S.C=NaN;S.j=!1},LH=function(S){return S.isPlaying()?(g.S$()-S.A)/1E3:0},Rq=function(S,W){S.W=W;
S.A=g.S$()},ec=function(S){switch(S.playerState){case 1:case 1081:return(g.S$()-S.A)/1E3+S.W;
case -1E3:return 0}return S.W},JsH=function(S){return S.j?S.V+LH(S):S.V},x4=function(S,W,m){const a=S.videoId;
S.videoId=W;S.index=m;W!=a&&US(S)},ib=function(S){const W={};
W.index=S.index;W.listId=S.listId;W.videoId=S.videoId;W.playerState=S.playerState;W.volume=S.volume;W.muted=S.muted;W.audioTrackId=S.audioTrackId;W.trackData=g.BF(S.trackData);W.hasPrevious=S.hasPrevious;W.hasNext=S.hasNext;W.playerTime=S.W;W.playerTimeAt=S.A;W.seekableStart=S.N;W.seekableEnd=S.V;W.duration=S.B;W.loadedTime=S.loadedTime;W.liveIngestionTime=S.C;return W},B69=function(S){g.Tg("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(W){this.V.push(this.j.subscribe(W,g.w7(this.Hn,W),this))},S)},dV=function(S,W){S.N&&(S.N.removeUpdateListener(S.U),S.N.removeMediaListener(S.S),S.W(null));
S.N=W;S.N&&(ZG("Setting cast session: "+S.N.sessionId),S.N.addUpdateListener(S.U),S.N.addMediaListener(S.S),S.N.media.length&&S.W(S.N.media[0]))},Iq=function(S){return new Mh(S.j.getPlayerContextData())},Pw=function(S){return S.getState()==1},k4=function(S,W,m){return(0,g.D6)(function(a){this.AO("Failed to "+W+" with cast v2 channel. Error code: "+a.code);
a.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.AO("Retrying "+W+" using MDx browser channel."),fH(this,W,m))},S)},fH=function(S,W,m){S.j.sendMessage(W,m)},h7=function(S,W,m){const a=Iq(S);
Rq(a,m);a.playerState!=-1E3&&(a.playerState=W);$4(S,a)},t7=function(S,W){var m=S.A;
m.C.length+m.N.length<50&&S.A.enqueue(W)},$4=function(S,W){EFg(S);
S.j.setPlayerContextData(ib(W));B69(S)},EFg=function(S){g.Tg(S.V,function(W){this.j.unsubscribeByKey(W)},S);
S.V.length=0},zo$=function(S){const W=S.C.media,m=S.C.customData;
if(W&&m){var a=Iq(S);W.contentId!=a.videoId&&ZG("Cast changing video to: "+W.contentId);a.videoId=W.contentId;a.playerState=m.playerState;Rq(a,S.C.getEstimatedTime());$4(S,a)}else ZG("No cast media video. Ignoring state update.")},ysw=function(S){A7("Channel opened");
S.AX&&(S.AX=!1,Zv(S),S.q2=g.xo(()=>{A7("Timing out waiting for a screen.");S.V(1)},15E3))},gFZ=function(S,W){W=W.message;
W.params?A7("Received: action="+W.action+", params="+g.sG(W.params)):A7("Received: action="+W.action+" {}");switch(W.action){case "loungeStatus":W=z_(W.params.devices);S.B=g.F9(W,function(a){return new KA(a)});
W=!!g.gN(S.B,function(a){return a.type=="LOUNGE_SCREEN"});
YIZ(S,W);W=S.ZQ("mlm");S.publish("multiStateLoopEnabled",W);break;case "loungeScreenDisconnected":g.H9(S.B,function(a){return a.type=="LOUNGE_SCREEN"});
YIZ(S,!1);break;case "remoteConnected":let m=new KA(z_(W.params.device));g.gN(S.B,function(a){return a.equals(m)})||DsH(S.B,m);
break;case "remoteDisconnected":m=new KA(z_(W.params.device));g.H9(S.B,function(a){return a.equals(m)});
break;case "gracefulDisconnect":break;case "playlistModified":GUZ(S,W,"QUEUE_MODIFIED");break;case "nowPlaying":KAx(S,W);break;case "onStateChange":T6Z(S,W);break;case "onAdStateChange":qIQ(S,W);break;case "onVolumeChanged":pQH(S,W);break;case "onSubtitlesTrackChanged":FAQ(S,W);break;case "nowAutoplaying":VV9(S,W);break;case "autoplayDismissed":S.publish("autoplayDismissed");break;case "autoplayUpNext":nF8(S,W);break;case "onAutoplayModeChanged":sz8(S,W);break;case "onHasPreviousNextChanged":urH(S,
W);break;case "requestAssistedSignIn":S.publish("assistedSignInRequested",W.params.authCode);break;case "onLoopModeChanged":S.publish("loopModeChange",W.params.loopMode);break;default:A7("Unrecognized action: "+W.action)}},A7=function(S){Aa("conn",S)},Ogp=function(S){S.W=g.xo(()=>{A7("Connecting timeout");
S.V(1)},2E4)},Nh=function(S,W){S.publish("proxyStateChange",W)},bb=function(S){g.da(S.W);
S.W=NaN},oq=function(S){g.da(S.vn);
S.vn=NaN},Zv=function(S){g.da(S.q2);
S.q2=NaN},jz9=function(S){return g.gN(S.B,function(W){return W.type=="LOUNGE_SCREEN"})},rV=function(S,W,m){m?A7("Sending: action="+W+", params="+g.sG(m)):A7("Sending: action="+W);
S.N.sendMessage(W,m)},QzZ=function(S){oq(S);
S.vn=g.xo(()=>{rV(S,"getNowPlaying")},2E4)},XQw=function(S){g.da(S.U);
S.U=g.xo(()=>{S.V(1)},864E5)},YIZ=function(S,W){var m=null;
if(W){const a=jz9(S);a&&(m={clientName:a.clientName,deviceMake:a.brand,deviceModel:a.model,osVersion:a.osVersion})}g.f6("yt.mdx.remote.remoteClient_",m);W&&(bb(S),Zv(S));m=S.N.dD()&&isNaN(S.W);W==m?W&&(Nh(S,1),rV(S,"getSubtitlesTrack")):W?(S.TN()&&S.C.reset(),Nh(S,1),rV(S,"getNowPlaying"),XQw(S)):S.V(1)},FAQ=function(S,W){const m=W.params.videoId;
delete W.params.videoId;m==S.C.videoId&&(g.Sm(W.params)?S.C.trackData=null:S.C.trackData=W.params,S.publish("remotePlayerChange"))},GUZ=function(S,W,m){const a=W.params.videoId||W.params.video_id,J=parseInt(W.params.currentIndex,10);
S.C.listId=W.params.listId||S.C.listId;x4(S.C,a,J);S.publish("remoteQueueChange",m)},T6Z=function(S,W){var m=parseInt(W.params.currentTime||W.params.current_time,10);
Rq(S.C,isNaN(m)?0:m);m=parseInt(W.params.state,10);m=isNaN(m)?-1:m;m==-1&&S.C.playerState==-1E3&&(m=-1E3);S.C.playerState=m;m=Number(W.params.loadedTime);S.C.loadedTime=isNaN(m)?0:m;S.C.VH(Number(W.params.duration));m=S.C;var a=Number(W.params.liveIngestionTime);m.C=a;m.j=isNaN(a)?!1:!0;m=S.C;a=Number(W.params.seekableStartTime);W=Number(W.params.seekableEndTime);m.N=isNaN(a)?0:a;m.V=isNaN(W)?0:W;S.C.playerState==1?QzZ(S):oq(S);S.publish("remotePlayerChange")},KAx=function(S,W){W.params=W.params||
{};
GUZ(S,W,"NOW_PLAYING_MAY_CHANGE");T6Z(S,W);S.publish("autoplayDismissed")},qIQ=function(S,W){if(S.C.playerState!=-1E3){var m=1085;
switch(parseInt(W.params.adState,10)){case 1:m=1081;break;case 2:m=1084;break;case 0:m=1083}S.C.playerState=m;W=parseInt(W.params.currentTime,10);Rq(S.C,isNaN(W)?0:W);S.publish("remotePlayerChange")}},pQH=function(S,W){const m=W.params.muted=="true";
S.C.volume=parseInt(W.params.volume,10);S.C.muted=m;S.publish("remotePlayerChange")},VV9=function(S,W){S.Z=W.params.videoId;
S.publish("nowAutoplaying",parseInt(W.params.timeout,10))},nF8=function(S,W){S.Z=W.params.videoId||null;
S.publish("autoplayUpNext",S.Z)},sz8=function(S,W){S.A=W.params.autoplayMode;
S.publish("autoplayModeChange",S.A);S.A=="DISABLED"&&S.publish("autoplayDismissed")},urH=function(S,W){const m=W.params.hasNext=="true";
S.C.hasPrevious=W.params.hasPrevious=="true";S.C.hasNext=m;S.publish("previousNextChange")},MV9=function(S,W){uFp();
if(!XH||!XH.get("yt-remote-disable-remote-module-for-dev")){W=g.k("MDX_CONFIG")||W;T39();jW();CH||(CH=new kh(W?W.loungeApiHost:void 0),gq9()&&(CH.C="/api/loungedev"));cw||(cw=g.tG("yt.mdx.remote.deferredProxies_")||[],g.f6("yt.mdx.remote.deferredProxies_",cw));vFv();var m=Dv();if(!m){const J=new aq(CH,W?W.disableAutomaticScreenCache||!1:!1);g.f6("yt.mdx.remote.screenService_",J);m=Dv();var a={};W&&(a={appId:W.appId,disableDial:W.disableDial,theme:W.theme,loadCastApiSetupScript:W.loadCastApiSetupScript,
disableCastApi:W.disableCastApi,enableDialLoungeToken:W.enableDialLoungeToken,enableCastLoungeToken:W.enableCastLoungeToken,forceMirroring:W.forceMirroring});g.f6("yt.mdx.remote.enableConnectWithInitialState_",W?W.enableConnectWithInitialState||!1:!1);Dr9(S,J,function(B){B?wV()&&Hw(wV(),"YouTube TV"):J.subscribe("onlineScreenChange",function(){v7("yt-remote-receiver-availability-change")})},a)}W&&!g.tG("yt.mdx.remote.initialized_")&&(g.f6("yt.mdx.remote.initialized_",!0),Sf("Initializing: "+g.sG(W)),
WJ.push(g.yG("yt-remote-cast2-api-ready",function(){v7("yt-remote-api-ready")})),WJ.push(g.yG("yt-remote-cast2-availability-change",function(){v7("yt-remote-receiver-availability-change")})),WJ.push(g.yG("yt-remote-cast2-receiver-selected",function(){mc(null);
v7("yt-remote-auto-connect","cast-selector-receiver")})),WJ.push(g.yG("yt-remote-cast2-receiver-resumed",function(){v7("yt-remote-receiver-resumed","cast-selector-receiver")})),WJ.push(g.yG("yt-remote-cast2-session-change",Hg9)),WJ.push(g.yG("yt-remote-connection-change",function(J){J?Hw(wV(),"YouTube TV"):a7()||(Hw(null,null),WAg())})),WJ.push(g.yG("yt-remote-cast2-session-failed",()=>{v7("yt-remote-connection-failed")})),S=JM(),W.isAuto&&(S.id+="#dial"),a=W.capabilities||[],a.length>0&&(S.capabilities=
a),S.name=W.device,S.app=W.app,(W=W.theme)&&(S.theme=W),Sf(" -- with channel params: "+g.sG(S)),S?(g.zN("yt-remote-session-app",S.app),g.zN("yt-remote-session-name",S.name)):(g.YO("yt-remote-session-app"),g.YO("yt-remote-session-name")),g.f6("yt.mdx.remote.channelParams_",S),m.start(),wV()||lM$())}},UkN=function(){var S=Dv().qP.$_gos();
const W=BJ();W&&Eu()&&(nA(S,W)||S.push(W));return KIZ(S)},zy=function(){let S=LA9();
!S&&Q5()&&SI9()&&(S={key:"cast-selector-receiver",name:SI9()});return S},LA9=function(){const S=UkN();
let W=BJ();W||(W=a7());return g.gN(S,function(m){return W&&qq(W,m.key)?!0:!1})},BJ=function(){const S=wV();
if(!S)return null;const W=Dv().oo();return sF(W,S)},Hg9=function(S){Sf("remote.onCastSessionChange_: "+pA(S));
if(S){var W=BJ();if(W&&W.id==S.id){if(Hw(W.id,"YouTube TV"),S.idType=="shortLived"&&(S=S.token))yo&&(yo.token=S),(W=Eu())&&W.qZ(S)}else W&&Yc(),Gy(S,1)}else Eu()&&Yc()},Yc=function(){X7()?OS().stopSession():ub("stopSession called before API ready.");
const S=Eu();S&&(S.disconnect(1),KJ(null))},Ty=function(){const S=Eu();
return!!S&&S.getProxyState()!=3},Sf=function(S){Aa("remote",S)},Dv=function(){if(!q3){const S=g.tG("yt.mdx.remote.screenService_");
q3=S?new Ro8(S):null}return q3},wV=function(){return g.tG("yt.mdx.remote.currentScreenId_")},eoZ=function(S){g.f6("yt.mdx.remote.currentScreenId_",S)},xkn=function(){return g.tG("yt.mdx.remote.connectData_")},mc=function(S){g.f6("yt.mdx.remote.connectData_",S)},Eu=function(){return g.tG("yt.mdx.remote.connection_")},KJ=function(S){const W=Eu();
mc(null);S||eoZ("");g.f6("yt.mdx.remote.connection_",S);cw&&(g.Tg(cw,function(m){m(S)}),cw.length=0);
W&&!S?v7("yt-remote-connection-change",!1):!W&&S&&v7("yt-remote-connection-change",!0)},a7=function(){const S=g.GN();
if(!S)return null;var W=Dv();if(!W)return null;W=W.oo();return sF(W,S)},Gy=function(S,W){wV();
BJ()&&BJ();if(pJ)yo=S;else{eoZ(S.id);var m=g.tG("yt.mdx.remote.enableConnectWithInitialState_")||!1;S=new Fn(S,m);S.connect(W,xkn());S.subscribe("beforeDisconnect",function(a){v7("yt-remote-before-disconnect",a)});
S.subscribe("beforeDispose",function(){Eu()&&(Eu(),KJ(null))});
S.subscribe("browserChannelAuthError",()=>{const a=BJ();a&&a.idType=="shortLived"&&(X7()?OS().handleBrowserChannelAuthError():ub("refreshLoungeToken called before API ready."))});
KJ(S)}},lM$=function(){const S=a7();
S?(Sf("Resume connection to: "+pA(S)),Gy(S,0)):(QD(),WAg(),Sf("Skipping connecting because no session screen found."))},vFv=function(){var S=JM();
if(g.Sm(S)){S=OF();var W=g.yM("yt-remote-session-name")||"";const m=g.yM("yt-remote-session-app")||"";S={device:"REMOTE_CONTROL",id:S,name:W,app:m,mdxVersion:3};S.authuser=String(g.k("SESSION_INDEX","0"));(W=g.k("DELEGATED_SESSION_ID"))&&(S.pageId=String(W));g.f6("yt.mdx.remote.channelParams_",S)}},JM=function(){return g.tG("yt.mdx.remote.channelParams_")||{}},ign=function(S,W){if(Vo(S)){S.iP.unsubscribe("remotePlayerChange",S.A,S);
const m=Math.round(W.volume);W=!!W.muted;const a=Iq(S.iP);if(m!==a.volume||W!==a.muted)S.iP.setVolume(m,W),S.U.start();S.iP.subscribe("remotePlayerChange",S.A,S)}},Vo=function(S){return Iq(S.iP).videoId===S.X.getVideoData(1).videoId},nJ=function(S,W){let m,a;
var J=S.X.getPlaylist();J?.listId&&(m=J.index,a=J.listId.toString());J=S.X.getVideoData(1);S.iP.playVideo(J.videoId,W,m,a,J.playerParams,J.bY,c0g(J));S.qd(new g.AQ(1))},un=function(S,W){if(Vo(S)&&!S.W){let m=null;
W&&(m={style:S.X.getSubtitlesUserSettings()},Object.assign(m,W));S.iP.Z(S.X.getVideoData(1).videoId,m);S.j=Iq(S.iP).trackData}},dkn=function(S,W){if(W){const m=S.X.getOption("captions","tracklist",{u9:1});
m&&m.length?(S.X.setOption("captions","track",W),S.W=!1):(S.X.loadModule("captions"),S.W=!0)}else S.X.setOption("captions","track",{})},IMp=function(S){S.Ln(0);
S.N.stop();S.qd(new g.AQ(64))},Pm$=function(S){const W=S.player.K();
return!W.T("mdx_enable_privacy_disclosure_ui")||S.isLoggedIn()||S.I1||!S.e5?!1:g.SB(W)||g.am(W)},fMZ=function(S,W,m){S.YP=m;
S.player.publish("presentingplayerstatechange",new g.Sh(m,W))},gg=function(S,W,...m){S.loaded&&S.n6.bH(W,...m)},Ou=function(S){S.jz&&(S.player.removeEventListener("presentingplayerstatechange",S.jz),S.jz=null)},jf=function(S,W){if(W.key!==S.xW.key)if(W.key===S.j4.key)Yc();
else if(Pm$(S)&&kUN(S),S.xW=W,!g.CG(S.player.K())){{const B=S.player.getPlaylistId();var m=S.player.getVideoData(1);const E=m.videoId;if(!B&&!E||(S.player.getAppState()===2||S.player.getAppState()===1)&&S.player.K().T("should_clear_video_data_on_player_cued_unstarted"))m=null;else{var a=S.player.getPlaylist();if(a){var J=[];for(let z=0;z<a.length;z++)J[z]=g.Tl(a,z).videoId}else J=[E];a=S.player.getCurrentTime(1);S={videoIds:J,listId:B,videoId:E,playerParams:m.playerParams,clickTrackingParams:m.bY,
index:Math.max(S.player.getPlaylistIndex(),0),currentTime:a===0?void 0:a};(m=c0g(m))&&(S.locationInfo=m);m=S}}Sf("Connecting to: "+g.sG(W));W.key=="cast-selector-receiver"?(mc(m||null),W=m||null,X7()?OS().setLaunchParams(W):ub("setLaunchParams called before ready.")):!m&&Ty()&&wV()==W.key?v7("yt-remote-connection-change",!0):(Yc(),mc(m||null),m=Dv().oo(),(W=sF(m,W.key))&&Gy(W,1))}},kUN=function(S){S.player.getPlayerStateObject().isPlaying()?S.player.pauseVideo():(S.jz=W=>{!S.I1&&W.b$(8)&&(S.player.pauseVideo(),
Ou(S))},S.player.addEventListener("presentingplayerstatechange",S.jz));
S.e5&&S.e5.Ya();Eu()||(pJ=!0)};
g.c5.prototype.gM=g.lc(46,function(){this.app.Sr().gM()});
g.R0.prototype.gM=g.lc(45,function(){this.Np=null});
g.c5.prototype.x_=g.lc(44,function(S){this.app.Sr().x_(S)});
g.R0.prototype.x_=g.lc(43,function(S){this.Np=S});
g.At.prototype.Ue=g.lc(1,function(){return g.YV(this,3)});
g.KZ.prototype.Ue=g.lc(0,function(){return g.YV(this,11)});
var $O9=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/channel/opened",g.vQ("channel_type"))}C(S){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/channel/opened",S)}},hhg=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/channel/closed",g.vQ("channel_type"))}C(S){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/channel/closed",S)}},AW9=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.vQ("channel_type"))}C(S){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/channel/message_received",S)}},tKv=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/channel/success")}C(){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/channel/success")}},ZVN=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/channel/error",g.vQ("channel_type"),g.vQ("error_type"))}C(S,W){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/channel/error",
S,W)}},NM$=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}C(){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},bVx=class{constructor(){var S=g.wf();this.N=S;g.Ge(S,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}C(){g.Te(this.N,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.v=YS.prototype;
g.v.oy=function(){G_(this);const S=[];for(let W=0;W<this.C.length;W++)S.push(this.N[this.C[W]]);return S};
g.v.xT=function(){G_(this);return this.C.concat()};
g.v.has=function(S){return yD(this.N,S)};
g.v.equals=function(S,W){if(this===S)return!0;if(this.size!=S.size)return!1;W=W||mYQ;G_(this);let m;for(let a=0;m=this.C[a];a++)if(!W(this.get(m),S.get(m)))return!1;return!0};
g.v.isEmpty=function(){return this.size==0};
g.v.clear=function(){this.N={};this.UX=this.size=this.C.length=0};
g.v.remove=function(S){return this.delete(S)};
g.v.delete=function(S){return yD(this.N,S)?(delete this.N[S],--this.size,this.UX++,this.C.length>2*this.size&&G_(this),!0):!1};
g.v.get=function(S,W){return yD(this.N,S)?this.N[S]:W};
g.v.set=function(S,W){yD(this.N,S)||(this.size+=1,this.C.push(S),this.UX++);this.N[S]=W};
g.v.forEach=function(S,W){const m=this.xT();for(let a=0;a<m.length;a++){const J=m[a],B=this.get(J);S.call(W,B,J,this)}};
g.v.clone=function(){return new YS(this)};
g.v.keys=function(){return g.uO(this.D7(!0)).C()};
g.v.values=function(){return g.uO(this.D7(!1)).C()};
g.v.entries=function(){const S=this;return WIv(this.keys(),function(W){return[W,S.get(W)]})};
g.v.D7=function(S){G_(this);let W=0;const m=this.UX,a=this,J=new g.jK;J.next=function(){if(m!=a.UX)throw Error("The map has changed since the iterator was created");if(W>=a.C.length)return g.x2;const B=a.C[W++];return g.Qz(S?B:a.N[B])};
return J};
var Eq9={jj:"atp",d2n:"ska",q9Q:"que",QV:"mus",lQn:"sus",jK:"dsp",V9X:"seq",Dj:"mic",yb:"dpa",kY:"mlm",I5:"dsdtr",bc:"ntb",Jvn:"vsp",Eg:"scn",aQU:"rpe",vu:"dcn",Bu:"dcp",nB:"pas",qK:"drq",yO:"opf",Zy:"els",Og:"isg",LU2:"svq",RA:"mvp",MO:"ads",M9N:"stcp",JXU:"sads",jF:"dloc",A5:"dcw",Cz:"asw",oJ:"apw",b8:"wrc",lc:"pcw",b2:"ipv",qf:"ndt",lG:"ctops",MK:"gsrm"},zr9={KtY:"u",Li:"cl",qL:"k",LI:"i",uG:"cr",eB:"m",Yd:"g",jL:"up"},rW8={Y9:"adPlaying",pX:"onAdStateChange"},CX9={vt:"nowPlaying",Ag:"onStateChange",
Y9:"adPlaying",pX:"onAdStateChange",YD:"nowPlayingShorts",kD:"onShortsStateChange"},cWH={YD:"nowPlayingShorts",kD:"onShortsStateChange"};KA.prototype.equals=function(S){return S?this.id==S.id:!1};
var gw="",XH=null,HLQ=OLn("loadCastFramework")||OLn("loadCastApplicationFramework"),MpZ=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.B9(LA,g.JW);g.v=LA.prototype;g.v.tQ=function(S){this.j=arguments;this.C=!1;this.fn?this.B=g.S$()+this.m$:this.fn=g.aG(this.A,this.m$)};
g.v.stop=function(){this.fn&&(g.P_.clearTimeout(this.fn),this.fn=null);this.B=null;this.C=!1;this.j=[]};
g.v.pause=function(){++this.N};
g.v.resume=function(){this.N&&(--this.N,!this.N&&this.C&&(this.C=!1,this.W.apply(null,this.j)))};
g.v.j9=function(){this.stop();LA.bJ.j9.call(this)};
g.v.Wb=function(){this.fn&&(g.P_.clearTimeout(this.fn),this.fn=null);this.B?(this.fn=g.aG(this.A,this.B-g.S$()),this.B=null):this.N?this.C=!0:(this.C=!1,this.W.apply(null,this.j))};var eW=null;RM.prototype.set=function(S){this.C=S};
RM.prototype.reset=function(){this.set(g.S$())};
RM.prototype.get=function(){return this.C};g.B9(RrN,LIZ);var By=class{stringify(S){return g.P_.JSON.stringify(S,void 0)}parse(S){return g.P_.JSON.parse(S,void 0)}};g.B9(xS,g.BH);g.B9(ik,g.BH);var erZ=null;g.B9(xYg,g.BH);g.B9(iLw,g.BH);g.B9(dYv,g.BH);kS.prototype.debug=function(){};
kS.prototype.info=function(){};
kS.prototype.warning=function(){};var hrp={},Nq={};g.v=$S.prototype;g.v.setTimeout=function(S){this.g2=S};
g.v.TH=function(S){S=S.target;const W=this.TN;W&&g.Lu(S)==3?W.j():this.il(S)};
g.v.il=function(S){try{if(S==this.C)a:{const J=g.Lu(this.C),B=this.C.N,E=this.C.getStatus();if(!(J<3)&&(J!=3||this.C&&(this.N.N||g.xA(this.C)||g.ie(this.C)))){this.AX||J!=4||B==7||(B==8||E<=0?IM(3):IM(2));bk(this);var W=this.C.getStatus();this.mU=W;var m=$YH(this);if(this.W=W==200){if(this.p_&&!this.Hn){b:{if(this.C){const z=g.IG(this.C,"X-HTTP-Initial-Response");if(z&&!g.FZ(z)){var a=z;break b}}a=null}if(S=a)this.Hn=!0,mi(this,S);else{this.W=!1;this.A=3;P7(12);A4(this);ZS(this);break a}}if(this.q2){S=
!0;let z;for(;!this.AX&&this.V<m.length;)if(z=tpg(this,m),z==Nq){J==4&&(this.A=4,P7(14),S=!1);break}else if(z==hrp){this.A=4;P7(15);S=!1;break}else mi(this,z);kAN(this)&&this.V!=0&&(this.N.C=this.N.C.slice(this.V),this.V=0);J!=4||m.length!=0||this.N.N||(this.A=1,P7(16),S=!1);this.W=this.W&&S;S?m.length>0&&!this.R2&&(this.R2=!0,this.B.s8(this)):(A4(this),ZS(this))}else mi(this,m);J==4&&A4(this);this.W&&!this.AX&&(J==4?ZLN(this.B,this):(this.W=!1,t4(this)))}else g.dj(this.C),W==400&&m.indexOf("Unknown SID")>
0?(this.A=3,P7(12)):(this.A=0,P7(13)),A4(this),ZS(this)}}}catch(J){}finally{}};
g.v.cancel=function(){this.AX=!0;A4(this)};
g.v.Hb=function(){this.iY=null;const S=Date.now();S-this.hX>=0?(this.cn!=2&&(IM(3),P7(17)),A4(this),this.A=2,ZS(this)):ABg(this,this.hX-S)};
g.v.getLastError=function(){return this.A};
g.v.hZ=function(){return this.C};var $kg=class{constructor(S,W){this.C=S;this.map=W;this.context=null}};rBN.prototype.cancel=function(){this.B=aO(this);if(this.N)this.N.cancel(),this.N=null;else if(this.C&&this.C.size!==0){for(const S of this.C.values())S.cancel();this.C.clear()}};g.v=SXQ.prototype;g.v.Nh=8;g.v.fJ=1;g.v.connect=function(S,W,m,a){P7(0);this.sV=S;this.AX=W||{};m&&a!==void 0&&(this.AX.OSID=m,this.AX.OAID=a);this.TN=this.yc;this.GN=N3Z(this,null,this.sV);Wy(this)};
g.v.disconnect=function(){WdN(this);if(this.fJ==3){var S=this.ZQ++,W=this.GN.clone();g.wt(W,"SID",this.j);g.wt(W,"RID",S);g.wt(W,"TYPE","terminate");ya(this,W);S=new $S(this,this.j,S);S.cn=2;S.Z=J4(W.clone());W=!1;if(g.P_.navigator&&g.P_.navigator.sendBeacon)try{W=g.P_.navigator.sendBeacon(S.Z.toString(),"")}catch{}!W&&g.P_.Image&&((new Image).src=S.Z,W=!0);W||(S.C=fJ$(S.B,null),S.C.send(S.Z));S.bY=Date.now();t4(S)}zhN(this)};
g.v.lJ=function(){return this.fJ==0};
g.v.getState=function(){return this.fJ};
g.v.j0=function(S){if(this.W)if(this.W=null,this.fJ==1){if(!S){this.ZQ=Math.floor(Math.random()*1E5);S=this.ZQ++;const J=new $S(this,"",S);let B=this.S;this.p_&&(B?(B=g.Jk(B),g.y3(B,this.p_)):B=this.p_);this.V!==null||this.hX||(J.GN=B,B=null);if(this.d2)a:{var W=0;for(var m=0;m<this.B.length;m++){b:{var a=this.B[m];if("__data__"in a.map&&(a=a.map.__data__,typeof a==="string")){a=a.length;break b}a=void 0}if(a===void 0)break;W+=a;if(W>4096){W=m;break a}if(W===4096||m===this.B.length-1){W=m+1;break a}}W=
this.Fz}else W=this.Fz;W=JWx(this,J,W);m=this.GN.clone();g.wt(m,"RID",S);g.wt(m,"CVER",22);this.q2&&g.wt(m,"X-HTTP-Session-Id",this.q2);ya(this,m);B&&(this.hX?W="headers="+g.VW(g.J2(B))+"&"+W:this.V&&g.B6(m,this.V,B));Sk(this.N,J);this.HG&&g.wt(m,"TYPE","init");this.d2?(g.wt(m,"$req",W),g.wt(m,"SID","null"),J.p_=!0,h4(J,m,null)):h4(J,m,W);this.fJ=2}}else this.fJ==3&&(S?BM9(this,S):this.B.length==0||C9w(this.N)||BM9(this))};
g.v.Bf=function(){this.Z=null;EdN(this);if(this.tv&&!(this.g2||this.C==null||this.K3<=0)){var S=4*this.K3;this.vn=fA((0,g.D6)(this.c$,this),S)}};
g.v.c$=function(){this.vn&&(this.vn=null,this.TN=!1,this.g2=!0,P7(10),CA(this),EdN(this))};
g.v.s8=function(S){this.C==S&&this.tv&&!this.g2&&(z0(this),this.g2=!0,P7(11))};
g.v.nX=function(){this.iY!=null&&(this.iY=null,CA(this),c7(this),P7(19))};
g.v.IJ=function(S){S?P7(2):P7(1)};
g.v.isActive=function(){return!!this.A&&this.A.isActive(this)};
g.v=YXv.prototype;g.v.y3=function(){};
g.v.aS=function(){};
g.v.IS=function(){};
g.v.qh=function(){};
g.v.isActive=function(){return!0};
g.v.VG=function(){};g.B9(G0,g.vH);G0.prototype.open=function(){this.C.A=this.B;this.V&&(this.C.Hn=!0);this.C.connect(this.W,this.N||void 0)};
G0.prototype.close=function(){this.C.disconnect()};
G0.prototype.send=function(S){var W=this.C;if(typeof S==="string"){var m={};m.__data__=S;S=m}else this.A&&(m={},m.__data__=g.sG(S),S=m);W.B.push(new $kg(W.o6++,S));W.fJ==3&&Wy(W)};
G0.prototype.j9=function(){this.C.A=null;delete this.B;this.C.disconnect();delete this.C;G0.bJ.j9.call(this)};
g.B9(Kdp,xS);g.B9(TMZ,ik);g.B9(Yh,YXv);Yh.prototype.y3=function(){this.C.dispatchEvent("m")};
Yh.prototype.aS=function(S){this.C.dispatchEvent(new Kdp(S))};
Yh.prototype.IS=function(S){this.C.dispatchEvent(new TMZ(S))};
Yh.prototype.qh=function(){this.C.dispatchEvent("n")};
G0.prototype.j=function(){return new Kr(this,this.C)};
Kr.prototype.N=function(){return DS(this.C.N)};
Kr.prototype.B=function(){return yWv(this.C).map(S=>{var W=this.j;S=S.map;"__data__"in S?(S=S.__data__,W=W.A?wjv(S):S):W=S;return W})};
Kr.prototype.commit=function(S){this.C.mU=S};var q0=new g.vH,qX8=class extends g.BH{constructor(){super("statevent",q0)}};g.v=FI.prototype;g.v.uF=null;g.v.LA=!1;g.v.L9=null;g.v.Gg=null;g.v.o7=null;g.v.IE=null;g.v.u0=null;g.v.ql=null;g.v.xk=null;g.v.wi=null;g.v.Al=0;g.v.wK=null;g.v.aE=null;g.v.gf=null;g.v.Mv=-1;g.v.X$=!0;g.v.xL=!1;g.v.P_=0;g.v.jd=null;var VKN={},sD={};g.v=FI.prototype;g.v.setTimeout=function(S){this.N=S};
g.v.ZP=function(S){S=S.target;const W=this.jd;W&&g.Lu(S)==3?W.j():this.wW(S)};
g.v.wW=function(S){try{if(S==this.wi)a:{const W=g.Lu(this.wi),m=this.wi.N,a=this.wi.getStatus();if(g.Td&&!g.Ih("420+")){if(W<4)break a}else if(W<3||W==3&&!g.xA(this.wi))break a;this.xL||W!=4||m==7||(m==8||a<=0?this.C.lR(3):this.C.lR(2));uAn(this);const J=this.wi.getStatus();this.Mv=J;const B=g.xA(this.wi);if(this.LA=J==200){W==4&&gQ(this);if(this.q2){for(S=!0;!this.xL&&this.Al<B.length;){const E=ndv(this,B);if(E==sD){W==4&&(this.gf=4,pr(),S=!1);break}else if(E==VKN){this.gf=4;pr();S=!1;break}else gdn(this,
E)}W==4&&B.length==0&&(this.gf=1,pr(),S=!1);this.LA=this.LA&&S;S||(gQ(this),uC(this))}else gdn(this,B);this.LA&&!this.xL&&(W==4?this.C.H_(this):(this.LA=!1,nr(this)))}else this.gf=J==400&&B.indexOf("Unknown SID")>0?3:0,pr(),gQ(this),uC(this)}}catch(W){}finally{}};
g.v.cancel=function(){this.xL=!0;gQ(this)};
g.v.Ok=function(){this.L9=null;const S=Date.now();S-this.Gg>=0?(this.IE!=2&&this.C.lR(3),gQ(this),this.gf=2,pr(),uC(this)):sC9(this,this.Gg-S)};
g.v.getLastError=function(){return this.gf};g.v=QCx.prototype;g.v.W_=null;g.v.lZ=null;g.v.JS=!1;g.v.Tg=null;g.v.FY=null;g.v.k0=-1;g.v.c9=null;g.v.Tv=null;g.v.connect=function(S){this.Tg=S;S=jk(this.C,null,this.Tg);pr();Date.now();const W=this.C.S;W!=null?(this.c9=W[0],(this.Tv=W[1])?(this.FY=1,X49(this)):(this.FY=2,XI(this))):(B7(S,"MODE","init"),this.lZ=new FI(this),this.lZ.uF=this.W_,Va(this.lZ,S,!1,null,!0),this.FY=0)};
g.v.kH=function(S){if(S)this.FY=2,XI(this);else{pr();var W=this.C;W.O_=W.eJ.k0;ek(W,9)}S&&this.lR(2)};
g.v.XT=function(S){return this.C.XT(S)};
g.v.abort=function(){this.lZ&&(this.lZ.cancel(),this.lZ=null);this.k0=-1};
g.v.lJ=function(){return!1};
g.v.As=function(S,W){this.k0=S.Mv;if(this.FY==0)if(W){try{var m=this.N.parse(W)}catch(a){S=this.C;S.O_=this.k0;ek(S,2);return}this.c9=m[0];this.Tv=m[1]}else S=this.C,S.O_=this.k0,ek(S,2);else this.FY==2&&(this.JS?(pr(),Date.now()):W=="11111"?(pr(),this.JS=!0,Date.now(),this.k0=200,this.lZ.cancel(),pr(),Qa(this.C,this,!0)):(pr(),Date.now(),this.JS=!1))};
g.v.H_=function(){this.k0=this.lZ.Mv;if(this.lZ.LA)this.FY==0?this.Tv?(this.FY=1,X49(this)):(this.FY=2,XI(this)):this.FY==2&&(this.JS?(pr(),Qa(this.C,this,!0)):(pr(),Qa(this.C,this,!1)));else{this.FY==0?pr():this.FY==2&&pr();var S=this.C;this.lZ.getLastError();S.O_=this.k0;ek(S,2)}};
g.v.CT=function(){return this.C.CT()};
g.v.isActive=function(){return this.C.isActive()};
g.v.lR=function(S){this.C.lR(S)};g.v=vy.prototype;g.v.hm=null;g.v.NV=null;g.v.iZ=null;g.v.M6=null;g.v.nO=null;g.v.P9=null;g.v.cf=null;g.v.sI=null;g.v.vl=0;g.v.LX=0;g.v.mT=null;g.v.KA=null;g.v.Ri=null;g.v.Cj=null;g.v.eJ=null;g.v.z4=null;g.v.Jd=-1;g.v.Pf=-1;g.v.O_=-1;g.v.rf=0;g.v.K9=0;g.v.Mm=8;var hog={OK:0,PY9:2,g7:4,Bt:5,Lt9:6,STOP:7,m2:8,wO:9,IQ:10,yq:11,i8:12};g.B9(HVw,g.BH);g.B9(llN,g.BH);g.v=vy.prototype;
g.v.connect=function(S,W,m,a,J){pr();this.nO=W;this.NV=m||{};a&&J!==void 0&&(this.NV.OSID=a,this.NV.OAID=J);this.Z?(T0((0,g.D6)(this.s5,this,S),100),MKH(this)):this.s5(S)};
g.v.disconnect=function(){UON(this);if(this.C==3){var S=this.vl++;const W=this.P9.clone();g.wt(W,"SID",this.j);g.wt(W,"RID",S);g.wt(W,"TYPE","terminate");Lr(this,W);S=new FI(this,this.j,S);S.IE=2;S.u0=J4(W.clone());(new Image).src=S.u0.toString();S.o7=Date.now();nr(S)}IlH(this)};
g.v.s5=function(S){this.eJ=new QCx(this);this.eJ.W_=this.hm;this.eJ.N=this.A;this.eJ.connect(S)};
g.v.lJ=function(){return this.C==0};
g.v.getState=function(){return this.C};
g.v.X5=function(S){this.KA=null;ehx(this,S)};
g.v.GE=function(){this.Ri=null;this.M6=new FI(this,this.j,"rpc",this.V);this.M6.uF=this.hm;this.M6.P_=0;var S=this.cf.clone();g.wt(S,"RID","rpc");g.wt(S,"SID",this.j);g.wt(S,"CI",this.z4?"0":"1");g.wt(S,"AID",this.Jd);Lr(this,S);g.wt(S,"TYPE","xmlhttp");Va(this.M6,S,!0,this.sI,!1)};
g.v.As=function(S,W){if(this.C!=0&&(this.M6==S||this.iZ==S))if(this.O_=S.Mv,this.iZ==S&&this.C==3)if(this.Mm>7){try{var m=this.A.parse(W)}catch(a){m=null}if(Array.isArray(m)&&m.length==3)if(S=m,S[0]==0)a:{if(!this.Ri){if(this.M6)if(this.M6.o7+3E3<this.iZ.o7)lC(this),this.M6.cancel(),this.M6=null;else break a;RO(this);pr()}}else this.Pf=S[1],0<this.Pf-this.Jd&&S[2]<37500&&this.z4&&this.K9==0&&!this.Cj&&(this.Cj=T0((0,g.D6)(this.KX,this),6E3));else ek(this,11)}else W!="y2f%"&&ek(this,11);else if(this.M6==
S&&lC(this),!g.FZ(W))for(S=this.A.parse(W),W=0;W<S.length;W++)m=S[W],this.Jd=m[0],m=m[1],this.C==2?m[0]=="c"?(this.j=m[1],this.sI=m[2],m=m[3],m!=null?this.Mm=m:this.Mm=6,this.C=3,this.mT&&this.mT.TE(),this.cf=jk(this,this.CT()?this.sI:null,this.nO),xON(this)):m[0]=="stop"&&ek(this,7):this.C==3&&(m[0]=="stop"?ek(this,7):m[0]!="noop"&&this.mT&&this.mT.Hf(m),this.K9=0)};
g.v.KX=function(){this.Cj!=null&&(this.Cj=null,this.M6.cancel(),this.M6=null,RO(this),pr())};
g.v.H_=function(S){if(this.M6==S){lC(this);this.M6=null;var W=2}else if(this.iZ==S)this.iZ=null,W=1;else return;this.O_=S.Mv;if(this.C!=0)if(S.LA)if(W==1){W=S.xk?S.xk.length:0;S=Date.now()-S.o7;var m=q0;m.dispatchEvent(new HVw(m,W,S,this.rf));Hy(this);this.mT&&this.mT.sJ(this,this.B);this.B.length=0}else xON(this);else{m=S.getLastError();var a;if(!(a=m==3||m==7||m==0&&this.O_>0)){if(a=W==1)this.iZ||this.KA||this.C==1||this.rf>=2?a=!1:(this.KA=T0((0,g.D6)(this.X5,this,S),iVp(this,this.rf)),this.rf++,
a=!0);a=!(a||W==2&&RO(this))}if(a)switch(m){case 1:ek(this,5);break;case 4:ek(this,10);break;case 3:ek(this,6);break;case 7:ek(this,12);break;default:ek(this,2)}}};
g.v.Ek=function(S){if(!g.j$(arguments,this.C))throw Error("Unexpected channel state: "+this.C);};
g.v.qO=function(S){S?pr():(pr(),dOH(this,8))};
g.v.XT=function(S){if(S)throw Error("Can't create secondary domain capable XhrIo object.");S=new g.Xc;S.V=!1;return S};
g.v.isActive=function(){return!!this.mT&&this.mT.isActive(this)};
g.v.lR=function(S){const W=q0;W.dispatchEvent(new llN(W,S))};
g.v.CT=function(){return!1};
new RrN;g.v=PXQ.prototype;g.v.TE=function(){};
g.v.Hf=function(){};
g.v.sJ=function(){};
g.v.Wf=function(){};
g.v.VR=function(){};
g.v.n4=function(){return{}};
g.v.isActive=function(){return!0};g.v=flH.prototype;g.v.enqueue=function(S){this.N.push(S)};
g.v.isEmpty=function(){return this.C.length===0&&this.N.length===0};
g.v.clear=function(){this.C=[];this.N=[]};
g.v.contains=function(S){return g.j$(this.C,S)||g.j$(this.N,S)};
g.v.remove=function(S){{var W=this.C;const m=Array.prototype.lastIndexOf.call(W,S,W.length-1);m>=0?(g.X9(W,m),W=!0):W=!1}return W||g.v9(this.N,S)};
g.v.oy=function(){const S=[];for(var W=this.C.length-1;W>=0;--W)S.push(this.C[W]);W=this.N.length;for(let m=0;m<W;++m)S.push(this.N[m]);return S};var tVv=class extends g.BH{constructor(S){super("channelMessage");this.message=S}},As$=class extends g.BH{constructor(S){super("channelError");this.error=S}};g.B9(xh,g.JW);g.v=xh.prototype;g.v.S_=function(){this.retryCount++;this.m$=Math.min(3E5,this.m$*2);this.N();this.Kl&&this.start()};
g.v.Ue=function(){return this.retryCount};
g.v.start=function(){const S=this.m$+15E3*Math.random();this.C.Db(S);this.Kl=Date.now()+S};
g.v.stop=function(){this.C.stop();this.Kl=0};
g.v.isActive=function(){return this.C.isActive()};
g.v.reset=function(){this.C.stop();this.retryCount=0;this.m$=5E3};g.B9(iC,PXQ);g.v=iC.prototype;g.v.subscribe=function(S,W,m){return this.Z.subscribe(S,W,m)};
g.v.unsubscribe=function(S,W,m){return this.Z.unsubscribe(S,W,m)};
g.v.lK=function(S){return this.Z.lK(S)};
g.v.publish=function(S,W){return this.Z.publish.apply(this.Z,arguments)};
g.v.dispose=function(){this.S||(this.S=!0,g.md(this.Z),this.disconnect(),g.md(this.N),this.N=null,this.GN=()=>"",this.Hn=()=>g.kZ({}))};
g.v.n_=function(){return this.S};
g.v.connect=async function(S,W,m){try{this.V&&await this.A}finally{if(this.S||this.C&&this.C.getState()==2&&!this.B)return;this.q2="";this.B||this.N.stop();this.U=S||null;this.iY=W||0;const a=this.TN+"/test",J=this.TN+"/bind";S=new vy(m?m.firstTestResults:null,m?m.secondTestResults:null,this.C3);const B=this.C;B&&(B.mT=null);S.mT=this;this.C=S;if(this.V)return this.A=Py(this).then(()=>od9(this,a,J,B,m)),this.A.then(()=>{this.A=g.kZ()});
od9(this,a,J,B,m)}};
g.v.disconnect=function(S){try{this.V&&(this.A.cancel(),this.A=g.kZ())}finally{this.vn=S||0,this.N&&this.N.stop(),dQ(this),this.C&&(this.C.getState()==3&&ehx(this.C),this.C.disconnect()),this.vn=0}};
g.v.sendMessage=async function(S,W){try{this.V&&await this.A}finally{if(this.S)return;const m={_sc:S};W&&g.y3(m,W);if(this.N.isActive()||(this.C?this.C.getState():0)==2)this.j.push(m);else if(this.dD())try{this.V&&!DOx(this,S)&&await Py(this)}finally{this.dD()&&(DOx(this,S)||IO(this),dQ(this),M0(this.C,m))}}};
g.v.TE=function(){this.W&&this.N&&this.N.Ue()>0&&(this.W.CJX(this.N.Ue(),this.B,!0),this.W.bC2());this.W&&this.W.zWQ();this.B?(this.N.stop(),g.md(this.N),this.N=new xh(this.RB,this),this.B=!1):this.N.reset();this.U=null;this.iY=0;if(this.j.length)if(this.V)w4N(this);else{var S=this.j;this.j=[];var W=S.length;IO(this);for(let m=0;m<W;++m)M0(this.C,S[m]);fr(this);fr(this)}else fr(this)};
g.v.Wf=function(S){var W=S==2&&this.C.O_==401;S==4||W||(this.B&&!this.N.isActive()&&(g.md(this.N),this.N=new xh(this.RB,this),this.B=!1),this.N.start());this.publish("handlerError",S,W);W=Object.keys(hog).find(m=>hog[m]===S);
this.K_.C("BROWSER_CHANNEL",W??"UNKNOWN")};
g.v.VR=function(S,W){if(!this.N.isActive())this.publish("handlerClosed");else if(W){const m=W.length;for(let a=0;a<m;++a){const J=W[a].map;J&&this.j.push(J)}}this.ZQ.C("BROWSER_CHANNEL");S&&g.Ku(this.K3.N,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",S.length);W&&g.Ku(this.TV.N,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",W.length)};
g.v.sJ=function(S,W){W!=null&&S!=null&&this.d2.C()};
g.v.n4=function(){const S={v:2};this.q2&&(S.gsessionid=this.q2);this.iY!=0&&(S.ui=""+this.iY);this.vn!=0&&(S.ui=""+this.vn);this.U&&g.y3(S,this.U);return S};
g.v.Hf=function(S){S[0]=="S"?this.q2=S[1]:S[0]=="gracefulReconnect"?(this.N.start(),this.C.disconnect()):this.publish("handlerMessage",new kfQ(S[0],S[1]));this.g2.C("BROWSER_CHANNEL")};
g.v.dD=function(){return!!this.C&&this.C.getState()==3};
g.v.qZ=function(S){(this.bY.loungeIdToken=S)||this.N.stop();if(this.yc&&this.C){const W=this.C.hm||{};S?W["X-YouTube-LoungeId-Token"]=S:delete W["X-YouTube-LoungeId-Token"];this.C.hm=W}};
g.v.getDeviceId=function(){return this.bY.id};
g.v.Xg=function(){return this.N.isActive()?this.N.Kl-Date.now():NaN};
g.v.St=function(){var S=this.N;g.CK(S.C);S.start()};
g.v.RB=function(){this.N.isActive();Ldw(this.C)==0&&this.connect(this.U,this.iY)};kh.prototype.sendRequest=function(S,W,m,a,J,B,E){S={format:B?"RAW":"JSON",method:S,context:this,timeout:5E3,withCredentials:!!E,onSuccess:g.w7(this.j,a,!B),onError:g.w7(this.B,J),onTimeout:g.w7(this.A,J)};m&&(S.postParams=m,S.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.Zf(W,S)};
kh.prototype.j=function(S,W,m,a){W?S(a):S({text:m.responseText})};
kh.prototype.B=function(S,W){S(Error("Request error: "+W.status))};
kh.prototype.A=function(S){S(Error("request timed out"))};var BGv=class extends g.vH{constructor(S,W){super();this.handler=S();this.handler.subscribe("handlerOpened",this.C,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(m,a)=>{this.onError(a)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.N=W}connect(S,W,m){this.handler.connect(S,W,m)}disconnect(S){this.handler.disconnect(S)}St(){this.handler.St()}getDeviceId(){return this.handler.getDeviceId()}Xg(){return this.handler.Xg()}dD(){return this.handler.dD()}C(){this.dispatchEvent("channelOpened");var S=this.handler,W=this.N;g.zN("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!S.C.z4,sessionId:S.C.j,arrayId:S.C.Jd});g.zN("yt-remote-session-screen-id",
W);S=uk();W=OF();g.j$(S,W)||S.push(W);pvx(S);jW()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(S){this.dispatchEvent(new tVv(S))}onError(S){this.dispatchEvent(new As$(S?1:0))}sendMessage(S,W){this.handler.sendMessage(S,W)}qZ(S){this.handler.qZ(S)}dispose(){this.handler.dispose()}};var JVQ=class{constructor(S,W,m=()=>""){new Gf$;
var a=new g.lO;this.pathPrefix=S;this.C=W;this.bY=m;this.A=a;this.Z=null;this.S=this.V=0;this.channel=null;this.W=0;this.B=new xh(()=>{this.B.isActive();this.channel?.j().N()===0&&this.connect(this.Z,this.V)});
this.j={};this.N={};this.iY=!1;this.logger=null;this.U=[];this.gr=void 0;this.GN=new $O9;this.vn=new hhg;this.AX=new AW9;this.q2=new ZVN}connect(S={},W=0){this.W!==2&&(this.B.stop(),this.Z=S,this.V=W,ha(this),(S=g.k("ID_TOKEN"))?this.j["x-youtube-identity-token"]=S:delete this.j["x-youtube-identity-token"],this.C&&(this.N.device=this.C.device,this.N.name=this.C.name,this.N.app=this.C.app,this.N.id=this.C.id,this.C.dR&&(this.N.mdxVersion=`${this.C.dR}`),this.C.theme&&(this.N.theme=this.C.theme),this.C.capabilities&&
(this.N.capabilities=this.C.capabilities),this.C.ws&&(this.N.cst=this.C.ws),this.C.authuser&&(this.N.authuser=this.C.authuser),this.C.pageId&&(this.N.pageId=this.C.pageId)),this.V!==0?this.N.ui=`${this.V}`:delete this.N.ui,Object.assign(this.N,this.Z),this.channel=new G0(this.pathPrefix,{eW:"gsessionid",kS:this.j,Rt:this.N}),this.channel.open(),this.W=2,mrH(this))}disconnect(S=0){this.S=S;this.B.stop();ha(this);this.channel&&(this.S!==0?this.N.ui=`${this.S}`:delete this.N.ui,this.channel.close());
this.S=0}Xg(){return this.B.isActive()?this.B.Kl-Date.now():NaN}St(){var S=this.B;g.CK(S.C);S.start()}sendMessage(S,W){this.channel&&(ha(this),this.channel.send({_sc:S,...W}))}qZ(S){S||this.B.stop();S?this.j["X-YouTube-LoungeId-Token"]=S:delete this.j["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.C?this.C.id:""}publish(S,...W){return this.A.publish(S,...W)}subscribe(S,W,m){return this.A.subscribe(S,W,m)}unsubscribe(S,W,m){return this.A.unsubscribe(S,W,m)}lK(S){return this.A.lK(S)}dispose(){this.iY||
(this.iY=!0,g.md(this.A),this.disconnect(),g.md(this.B),this.bY=()=>"")}n_(){return this.iY}};var agp=class extends g.vH{constructor(S){super();this.C=S();this.C.subscribe("webChannelOpened",this.N,this);this.C.subscribe("webChannelClosed",this.onClosed,this);this.C.subscribe("webChannelError",this.onError,this);this.C.subscribe("webChannelMessage",this.onMessage,this)}connect(S,W){this.C.connect(S,W)}disconnect(S){this.C.disconnect(S)}St(){this.C.St()}getDeviceId(){return this.C.getDeviceId()}Xg(){return this.C.Xg()}dD(){return this.C.W===3}N(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(S){this.dispatchEvent(new tVv(S))}onError(){this.dispatchEvent(new As$(this.C.gr===
401?1:0))}sendMessage(S,W){this.C.sendMessage(S,W)}qZ(S){this.C.qZ(S)}dispose(){this.C.dispose()}};var qOx=Date.now(),ta=null,bC=Array(50),N0=-1,oO=!1;g.B9(rQ,g.yf);rQ.prototype.oo=function(){return this.screens};
rQ.prototype.contains=function(S){return!!nA(this.screens,S)};
rQ.prototype.get=function(S){return S?sF(this.screens,S):null};
rQ.prototype.info=function(S){Aa(this.W,S)};var N6Q=class extends g.yf{constructor(S,W,m,a,J){super();this.j=S;this.U=W;this.Z=m;this.iY=a;this.S=J;this.N=0;this.C=null;this.fn=NaN}start(){!this.C&&isNaN(this.fn)&&this.B()}stop(){this.C&&(this.C.abort(),this.C=null);isNaN(this.fn)||(g.da(this.fn),this.fn=NaN)}j9(){this.stop();super.j9()}B(){this.fn=NaN;this.C=g.Zf($h(this.j,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.U},timeout:5E3,onSuccess:(0,g.D6)(this.W,this),onError:(0,g.D6)(this.A,this),onTimeout:(0,g.D6)(this.V,
this)})}W(S,W){this.C=null;S=W.screen||{};S.dialId=this.Z;S.name=this.iY;W=-1;this.S&&S.shortLivedLoungeToken&&S.shortLivedLoungeToken.value&&S.shortLivedLoungeToken.refreshIntervalMs&&(S.screenIdType="shortLived",S.loungeToken=S.shortLivedLoungeToken.value,W=S.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new T_(S),W)}A(S){this.C=null;S.status&&S.status==404?this.N>=Zgv.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(S=Zgv[this.N],this.fn=g.xo((0,g.D6)(this.B,
this),S),this.N++):this.publish("pairingFailed",Error("Server error "+S.status))}V(){this.C=null;this.publish("pairingFailed",Error("Server not responding"))}},Zgv=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.B9(cy,rQ);g.v=cy.prototype;g.v.start=function(){Cr(this)&&this.publish("screenChange");!g.yM("yt-remote-lounge-token-expiration")&&nvp(this);g.da(this.C);this.C=g.xo((0,g.D6)(this.start,this),1E4)};
g.v.add=function(S,W){Cr(this);pMw(this,S);DG(this,!1);this.publish("screenChange");W(S);S.token||nvp(this)};
g.v.remove=function(S,W){let m=Cr(this);VLv(this,S)&&(DG(this,!1),m=!0);W(S);m&&this.publish("screenChange")};
g.v.rz=function(S,W,m,a){let J=Cr(this);const B=this.get(S.id);B?(B.name!=W&&(B.name=W,DG(this,!1),J=!0),m(S)):a(Error("no such local screen."));J&&this.publish("screenChange")};
g.v.j9=function(){g.da(this.C);cy.bJ.j9.call(this)};
g.v.SW=function(S){Cr(this);let W=this.screens.length;S=S&&S.screens||[];const m=S.length;for(let a=0;a<m;++a){const J=S[a],B=this.get(J.screenId);B&&(B.token=J.loungeToken,--W)}DG(this,!W);W&&Aa(this.W,"Missed "+W+" lounge tokens.")};
g.v.D1=function(S){Aa(this.W,"Requesting lounge tokens failed: "+S)};var HYw=class extends g.yf{constructor(S,W){super();this.W=W;W=(W=g.yM("yt-remote-online-screen-ids")||"")?W.split(","):[];const m={},a=this.W(),J=a.length;for(let B=0;B<J;++B){const E=a[B].id;m[E]=g.j$(W,E)}this.C=m;this.A=S;this.B=this.j=NaN;this.N=null;wQ("Initialized with "+g.sG(this.C))}start(){const S=parseInt(g.yM("yt-remote-fast-check-period")||"0",10);(this.j=g.S$()-144E5<S?0:S)?Sc(this):(this.j=g.S$()+3E5,g.zN("yt-remote-fast-check-period",this.j),this.V())}isEmpty(){return g.Sm(this.C)}update(){wQ("Updating availability on schedule.");
const S=this.W(),W=g.hN(this.C,function(m,a){return m&&!!sF(S,a)},this);
Ww(this,W)}j9(){g.da(this.B);this.B=NaN;this.N&&(this.N.abort(),this.N=null);super.j9()}V(){g.da(this.B);this.B=NaN;this.N&&this.N.abort();const S=u_n(this);if(EF(S)){var W=$h(this.A,"/pairing/get_screen_availability"),m={lounge_token:g.oZ(S).join(",")};this.N=this.A.sendRequest("POST",W,m,(0,g.D6)(this.S,this,S),(0,g.D6)(this.Z,this))}else Ww(this,{}),Sc(this)}S(S,W){this.N=null;var m=g.oZ(u_n(this));if(g.fn(m,g.oZ(S))){W=W.screens||[];m={};var a=W.length;for(let J=0;J<a;++J)m[S[W[J].loungeToken]]=
W[J].status=="online";Ww(this,m);Sc(this)}else this.AO("Changing Screen set during request."),this.V()}Z(S){this.AO("Screen availability failed: "+S);this.N=null;Sc(this)}AO(S){Aa("OnlineScreenService",S)}};g.B9(aq,rQ);g.v=aq.prototype;g.v.start=function(){this.N.start();this.C.start();this.screens.length&&(this.publish("screenChange"),this.C.isEmpty()||this.publish("onlineScreenChange"))};
g.v.add=function(S,W,m){this.N.add(S,W,m)};
g.v.remove=function(S,W,m){this.N.remove(S,W,m);this.C.update()};
g.v.rz=function(S,W,m,a){this.N.contains(S)?this.N.rz(S,W,m,a):(S="Updating name of unknown screen: "+S.name,Aa(this.W,S),a(Error(S)))};
g.v.oo=function(S){return S?this.screens:g.lw(this.screens,g.qx(this.B,function(W){return!this.contains(W)},this))};
g.v.V3=function(){return g.qx(this.oo(!0),function(S){return!!this.C.C[S.id]},this)};
g.v.OJ=function(S,W,m,a,J,B){this.info("getDialScreenByPairingCode "+S+" / "+W);const E=new N6Q(this.j,S,W,m,a);E.subscribe("pairingComplete",(z,y)=>{g.md(E);J(J7(this,z),y)});
E.subscribe("pairingFailed",z=>{g.md(E);B(z)});
E.start();return(0,g.D6)(E.stop,E)};
g.v.JQ=function(S,W,m,a){g.Zf($h(this.j,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:S},timeout:5E3,onSuccess:(0,g.D6)(function(J,B){J=new T_(B.screen||{});if(!J.name||QD8(this,J.name)){a:{B=J.name;let E=2,z=W(B,E);for(;QD8(this,z);){E++;if(E>20)break a;z=W(B,E)}B=z}J.name=B}m(J7(this,J))},this),
onError:(0,g.D6)(function(J){a(Error("pairing request failed: "+J.status))},this),
onTimeout:(0,g.D6)(function(){a(Error("pairing request timed out."))},this)})};
g.v.j9=function(){g.md(this.N);g.md(this.C);aq.bJ.j9.call(this)};
g.v.dn=function(){vvN(this);this.publish("screenChange");this.C.update()};
aq.prototype.dispose=aq.prototype.dispose;g.B9(ES,g.yf);g.v=ES.prototype;g.v.gi=function(S){this.n_()||(S&&(y5(this,""+S),this.publish("sessionFailed")),this.C=null,this.publish("sessionScreen",null))};
g.v.info=function(S){Aa(this.q2,S)};
g.v.Zl=function(){return null};
g.v.Mb=function(S){const W=this.N;S?(W.displayStatus=new chrome.cast.ReceiverDisplayStatus(S,[]),W.displayStatus.showStop=!0):W.displayStatus=null;chrome.cast.setReceiverDisplayStatus(W,(0,g.D6)(function(){this.info("Updated receiver status for "+W.friendlyName+": "+S)},this),(0,g.D6)(function(){y5(this,"Failed to update receiver status for: "+W.friendlyName)},this))};
g.v.j9=function(){this.Mb("");ES.bJ.j9.call(this)};var Qo=class extends ES{constructor(S,W,m){super(S,W,"CastSession");this.config_=m;this.B=null;this.U=(0,g.D6)(this.GN,this);this.bY=(0,g.D6)(this.cn,this);this.iY=g.xo(()=>{L49(this,null)},12E4);
this.Z=this.A=this.V=this.S=0}vn(S){if(this.B){if(this.B==S)return;y5(this,"Overriding cast session with new session object");R7$(this);this.B.removeUpdateListener(this.U);this.B.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.bY)}this.B=S;this.B.addUpdateListener(this.U);this.B.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.bY);e7g(this,"getMdxSessionStatus")}W(S){this.info("launchWithParams no-op for Cast: "+g.sG(S))}stop(){this.B?this.B.stop((0,g.D6)(function(){this.gi()},
this),(0,g.D6)(function(){this.gi(Error("Failed to stop receiver app."))},this)):this.gi(Error("Stopping cast device without session."))}Mb(){}j9(){this.info("disposeInternal");
R7$(this);this.B&&(this.B.removeUpdateListener(this.U),this.B.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.bY));this.B=null;super.j9()}cn(S,W){if(!this.n_())if(W)if(W=z_(W),g.bc(W))switch(S=""+W.type,W=W.data||{},this.info("onYoutubeMessage_: "+S+" "+g.sG(W)),S){case "mdxSessionStatus":L49(this,W);break;case "loungeToken":xrn(this,W);break;default:y5(this,"Unknown youtube message: "+S)}else y5(this,"Unable to parse message.");else y5(this,"No data in message.")}AX(S,W,m,a){g.da(this.S);
this.S=0;jDp(this.j,this.N.label,S,this.N.friendlyName,(0,g.D6)(function(J){J?W(J):a>=0?(y5(this,"Screen "+S+" appears to be offline. "+a+" retries left."),this.S=g.xo((0,g.D6)(this.AX,this,S,W,m,a-1),300)):m(Error("Unable to fetch screen."))},this),m)}Zl(){return this.B}GN(S){this.n_()||S||(y5(this,"Cast session died."),this.gi())}};var bgx=class extends ES{constructor(S,W,m,a){super(S,W,"DialSession");this.config_=a;this.B=this.S=null;this.bY="";this.cn=m;this.GN=null;this.U=()=>{};
this.iY=NaN;this.AX=(0,g.D6)(this.Hn,this);this.A=()=>{};
this.Z=this.V=0}vn(S){this.B=S;this.B.addUpdateListener(this.AX)}W(S){this.GN=S;this.U()}stop(){fg9(this);this.B?this.B.stop((0,g.D6)(this.gi,this,null),(0,g.D6)(this.gi,this,"Failed to stop DIAL device.")):this.gi()}j9(){fg9(this);this.B&&this.B.removeUpdateListener(this.AX);this.B=null;super.j9()}Hn(S){this.n_()||S||(y5(this,"DIAL session died."),this.A(),this.A=()=>{},this.gi())}};var oF9=class extends ES{constructor(S,W){super(S,W,"ManualSession");this.B=g.xo((0,g.D6)(this.W,this,null),150)}stop(){this.gi()}vn(){}W(){g.da(this.B);this.B=NaN;const S=sF(this.j.oo(),this.N.label);S?zT(this,S):this.gi(Error("No such screen"))}j9(){g.da(this.B);this.B=NaN;super.j9()}};var lb=class extends g.yf{constructor(S,W){super();this.config_=W;this.N=S;this.vn=W.appId||"233637DE";this.j=W.theme||"cl";this.q2=W.disableCastApi||!1;this.V=W.forceMirroring||!1;this.C=null;this.Z=!1;this.B=[];this.W=(0,g.D6)(this.GN,this)}init(S,W){chrome.cast.timeout.requestSession=3E4;var m=new chrome.cast.SessionRequest(this.vn,[chrome.cast.Capability.AUDIO_OUT]);g.fO("desktop_enable_cast_connect")&&(m.androidReceiverCompatible=!0);this.q2||(m.dialRequest=new chrome.cast.DialRequest("YouTube"));
const a=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;S=S||this.V?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const J=(0,g.D6)(this.cn,this);m=new chrome.cast.ApiConfig(m,(0,g.D6)(this.S,this),J,a,S);m.customDialLaunchCallback=(0,g.D6)(this.AX,this);chrome.cast.initialize(m,(0,g.D6)(function(){this.n_()||(chrome.cast.addReceiverActionListener(this.W),Gu9(),this.N.subscribe("onlineScreenChange",(0,g.D6)(this.A,this)),this.B=ZYZ(this),chrome.cast.setCustomReceivers(this.B,
()=>{},(0,g.D6)(function(B){this.AO("Failed to set initial custom receivers: "+g.sG(B))},this)),this.publish("yt-remote-cast2-availability-change",pH(this)),W(!0))},this),(0,g.D6)(function(B){this.AO("Failed to initialize API: "+g.sG(B));
W(!1)},this))}TN(S,W){F7("Setting connected screen ID: "+S+" -> "+W);
if(this.C){var m=this.C.C;if(!S||m&&m.id!=S)F7("Unsetting old screen status: "+this.C.N.friendlyName),V5(this,null)}if(S&&W){if(!this.C){S=sF(this.N.oo(),S);if(!S){F7("setConnectedScreenStatus: Unknown screen.");return}if(S.idType=="shortLived"){F7("setConnectedScreenStatus: Screen with id type to be short lived.");return}m=AVg(this,S);m||(F7("setConnectedScreenStatus: Connected receiver not custom..."),m=new chrome.cast.Receiver(S.uuid?S.uuid:S.id,S.name),m.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.B.push(m),chrome.cast.setCustomReceivers(this.B,()=>{},(0,g.D6)(function(a){this.AO("Failed to set initial custom receivers: "+g.sG(a))},this)));
F7("setConnectedScreenStatus: new active receiver: "+m.friendlyName);V5(this,new oF9(this.N,m),!0)}this.C.Mb(W)}else F7("setConnectedScreenStatus: no screen.")}ZQ(S){this.n_()?this.AO("Setting connection data on disposed cast v2"):this.C?this.C.W(S):this.AO("Setting connection data without a session")}bY(){this.n_()?this.AO("Stopping session on disposed cast v2"):this.C?(this.C.stop(),V5(this,null)):F7("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.D6)(this.S,this),
(0,g.D6)(this.Hn,this))}j9(){this.N.unsubscribe("onlineScreenChange",(0,g.D6)(this.A,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.W);var S=z7$;const W=g.tG("yt.mdx.remote.debug.handlers_");g.v9(W||[],S);g.md(this.C);super.j9()}AO(S){Aa("Controller",S)}iY(S,W){this.C==S&&(W||V5(this,null),this.publish("yt-remote-cast2-session-change",W))}GN(S,W){if(!this.n_())if(S)switch(S.friendlyName=chrome.cast.unescape(S.friendlyName),F7("onReceiverAction_ "+S.label+" / "+S.friendlyName+
"-- "+W),W){case chrome.cast.ReceiverAction.CAST:if(this.C)if(this.C.N.label!=S.label)F7("onReceiverAction_: Stopping active receiver: "+this.C.N.friendlyName),this.C.stop();else{F7("onReceiverAction_: Casting to active receiver.");this.C.C&&this.publish("yt-remote-cast2-session-change",this.C.C);break}switch(S.receiverType){case chrome.cast.ReceiverType.CUSTOM:V5(this,new oF9(this.N,S));break;case chrome.cast.ReceiverType.DIAL:V5(this,new bgx(this.N,S,this.j,this.config_));break;case chrome.cast.ReceiverType.CAST:V5(this,
new Qo(this.N,S,this.config_));break;default:this.AO("Unknown receiver type: "+S.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.C&&this.C.N.label==S.label?this.C.stop():this.AO("Stopping receiver w/o session: "+S.friendlyName)}else this.AO("onReceiverAction_ called without receiver.")}AX(S){if(this.n_())return Promise.reject(Error("disposed"));var W=S.receiver;W.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.AO("Not DIAL receiver: "+W.friendlyName),W.receiverType=chrome.cast.ReceiverType.DIAL);
var m=this.C?this.C.N:null;if(!m||m.label!=W.label)return this.AO("Receiving DIAL launch request for non-clicked DIAL receiver: "+W.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(m&&m.label==W.label&&m.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.C.C)return F7("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.C.C),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.AO('Changing CAST intent from "'+m.receiverType+'" to "dial" for '+W.friendlyName);
V5(this,new bgx(this.N,W,this.j,this.config_))}W=this.C;W.S=S;W.S.appState==chrome.cast.DialAppState.RUNNING?(S=W.S.extraData||{},m=S.screenId||null,TT(W)&&S.loungeToken?S.loungeTokenRefreshIntervalMs?S=tLw(W,{name:W.N.friendlyName,screenId:S.screenId,loungeToken:S.loungeToken,dialId:W.S.receiver.label,screenIdType:"shortLived"},S.loungeTokenRefreshIntervalMs):(g.GH(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(S)}.`)),S=$rv(W,m)):S=$rv(W,m)):S=KH(W);return S}S(S){if(!this.n_()&&
!this.V){F7("New cast session ID: "+S.sessionId);var W=S.receiver;if(W.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.C)if(W.receiverType==chrome.cast.ReceiverType.CAST)F7("Got resumed cast session before resumed mdx connection."),W.friendlyName=chrome.cast.unescape(W.friendlyName),V5(this,new Qo(this.N,W,this.config_),!0);else{this.AO("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var m=this.C.N,a=sF(this.N.oo(),m.label);a&&qq(a,W.label)&&m.receiverType!=
chrome.cast.ReceiverType.CAST&&W.receiverType==chrome.cast.ReceiverType.CAST&&(F7("onSessionEstablished_: manual to cast session change "+W.friendlyName),g.md(this.C),this.C=new Qo(this.N,W,this.config_),this.C.subscribe("sessionScreen",(0,g.D6)(this.iY,this,this.C)),this.C.subscribe("sessionFailed",()=>NGQ(this,this.C)),this.C.W(null));
this.C.vn(S)}}}U(){return this.C?this.C.Zl():null}Hn(S){this.n_()||(this.AO("Failed to estabilish a session: "+g.sG(S)),S.code!=chrome.cast.ErrorCode.CANCEL&&V5(this,null),this.publish("yt-remote-cast2-session-failed"))}cn(S){F7("Receiver availability updated: "+S);if(!this.n_()){var W=pH(this);this.Z=S==chrome.cast.ReceiverAvailability.AVAILABLE;pH(this)!=W&&this.publish("yt-remote-cast2-availability-change",pH(this))}}A(){this.n_()||(this.B=ZYZ(this),F7("Updating custom receivers: "+g.sG(this.B)),
chrome.cast.setCustomReceivers(this.B,()=>{},(0,g.D6)(function(){this.AO("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",pH(this)))}};
lb.prototype.setLaunchParams=lb.prototype.ZQ;lb.prototype.setConnectedScreenStatus=lb.prototype.TN;lb.prototype.stopSession=lb.prototype.bY;lb.prototype.getCastSession=lb.prototype.U;lb.prototype.requestSession=lb.prototype.requestSession;lb.prototype.init=lb.prototype.init;lb.prototype.dispose=lb.prototype.dispose;var jc=[],cVN=(0,g.c$)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.v=Mh.prototype;
g.v.reset=function(S){this.listId="";this.index=-1;this.videoId="";US(this);this.volume=-1;this.muted=!1;S&&(this.index=S.index,this.listId=S.listId,this.videoId=S.videoId,this.playerState=S.playerState,this.volume=S.volume,this.muted=S.muted,this.audioTrackId=S.audioTrackId,this.trackData=S.trackData,this.hasPrevious=S.hasPrevious,this.hasNext=S.hasNext,this.W=S.playerTime,this.A=S.playerTimeAt,this.N=S.seekableStart,this.V=S.seekableEnd,this.B=S.duration,this.loadedTime=S.loadedTime,this.C=S.liveIngestionTime,
this.j=!isNaN(this.C))};
g.v.isPlaying=function(){return this.playerState==1};
g.v.isBuffering=function(){return this.playerState==3};
g.v.VH=function(S){this.B=isNaN(S)?0:S};
g.v.getDuration=function(){return this.j?this.B+LH(this):this.B};
g.v.clone=function(){return new Mh(ib(this))};var rsQ=class extends g.yf{constructor(){var S=Eu();super();this.B=0;this.j=S;this.V=[];this.A=new flH;this.N=this.C=null;this.U=(0,g.D6)(this.GN,this);this.S=(0,g.D6)(this.W,this);this.iY=(0,g.D6)(this.AX,this);this.q2=(0,g.D6)(this.cn,this);let W=0;S?(W=S.getProxyState(),W!=3&&(S.subscribe("proxyStateChange",this.vn,this),B69(this))):W=3;W!=0&&g.xo(()=>{this.vn(W)},0);
(S=mk9())&&dV(this,S);this.subscribe("yt-remote-cast2-session-change",this.q2)}getState(){return this.B}Xg(){return this.j.getReconnectTimeout()}St(){this.j.reconnect()}play(){Pw(this)?(this.C?this.C.play(null,g.xg,k4(this,"play")):fH(this,"play"),h7(this,1,ec(Iq(this))),this.publish("remotePlayerChange")):t7(this,this.play)}pause(){Pw(this)?(this.C?this.C.pause(null,g.xg,k4(this,"pause")):fH(this,"pause"),h7(this,2,ec(Iq(this))),this.publish("remotePlayerChange")):t7(this,this.pause)}seekTo(S){if(Pw(this)){if(this.C){const W=
Iq(this),m=new chrome.cast.media.SeekRequest;m.currentTime=S;W.isPlaying()||W.isBuffering()?m.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:m.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.C.seek(m,g.xg,k4(this,"seekTo",{newTime:S}))}else fH(this,"seekTo",{newTime:S});h7(this,3,S);this.publish("remotePlayerChange")}else t7(this,g.w7(this.seekTo,S))}stop(){if(Pw(this)){this.C?this.C.stop(null,g.xg,k4(this,"stopVideo")):fH(this,"stopVideo");var S=Iq(this);S.index=-1;S.videoId=
"";US(S);$4(this,S);this.publish("remotePlayerChange")}else t7(this,this.stop)}setVolume(S,W){if(Pw(this)){var m=Iq(this);if(this.N){if(m.volume!=S){const a=Math.round(S)/100;this.N.setReceiverVolumeLevel(a,(0,g.D6)(function(){ZG("set receiver volume: "+a)},this),(0,g.D6)(function(){this.AO("failed to set receiver volume.")},this))}m.muted!=W&&this.N.setReceiverMuted(W,(0,g.D6)(function(){ZG("set receiver muted: "+W)},this),(0,g.D6)(function(){this.AO("failed to set receiver muted.")},this))}else{const a=
{volume:S,
muted:W};m.volume!=-1&&(a.delta=S-m.volume);fH(this,"setVolume",a)}m.muted=W;m.volume=S;$4(this,m)}else t7(this,g.w7(this.setVolume,S,W))}Z(S,W){if(Pw(this)){var m=Iq(this);S={videoId:S};W&&(m.trackData={trackName:W.name,languageCode:W.languageCode,sourceLanguageCode:W.translationLanguage?W.translationLanguage.languageCode:"",languageName:W.languageName,kind:W.kind},S.style=g.sG(W.style),g.y3(S,m.trackData));fH(this,"setSubtitlesTrack",S);$4(this,m)}else t7(this,g.w7(this.Z,S,W))}setAudioTrack(S,
W){Pw(this)?(W=W.getLanguageInfo().getId(),fH(this,"setAudioTrack",{videoId:S,audioTrackId:W}),S=Iq(this),S.audioTrackId=W,$4(this,S)):t7(this,g.w7(this.setAudioTrack,S,W))}playVideo(S,W,m,a=null,J=null,B=null,E=null){const z=Iq(this),y={videoId:S};m!==void 0&&(y.currentIndex=m);x4(z,S,m||0);W!==void 0&&(Rq(z,W),y.currentTime=W);a&&(y.listId=a);J&&(y.playerParams=J);B&&(y.clickTrackingParams=B);E&&(y.locationInfo=g.sG(E));fH(this,"setPlaylist",y);a||$4(this,z)}HF(S,W){if(Pw(this)){if(S&&W){const m=
Iq(this);x4(m,S,W);$4(this,m)}fH(this,"previous")}else t7(this,g.w7(this.HF,S,W))}nextVideo(S,W){if(Pw(this)){if(S&&W){const m=Iq(this);x4(m,S,W);$4(this,m)}fH(this,"next")}else t7(this,g.w7(this.nextVideo,S,W))}HB(){if(Pw(this)){fH(this,"clearPlaylist");var S=Iq(this);S.reset();$4(this,S);this.publish("remotePlayerChange")}else t7(this,this.HB)}bY(){Pw(this)?fH(this,"dismissAutoplay"):t7(this,this.bY)}dispose(){if(this.B!=3){const S=this.B;this.B=3;this.publish("proxyStateChange",S,this.B)}super.dispose()}j9(){EFg(this);
this.j=null;this.A.clear();dV(this,null);super.j9()}vn(S){if((S!=this.B||S==2)&&this.B!=3&&S!=0){var W=this.B;this.B=S;this.publish("proxyStateChange",W,S);if(S==1)for(;!this.A.isEmpty();)W=S=this.A,W.C.length===0&&(W.C=W.N,W.C.reverse(),W.N=[]),S.C.pop().apply(this);else S==3&&this.dispose()}}Hn(S,W){this.publish(S,W)}GN(S){if(!S)this.W(null),dV(this,null);else if(this.N.receiver.volume){S=this.N.receiver.volume;const W=Iq(this),m=Math.round(100*S.level||0);if(W.volume!=m||W.muted!=S.muted)ZG("Cast volume update: "+
S.level+(S.muted?" muted":"")),W.volume=m,W.muted=!!S.muted,$4(this,W)}}W(S){ZG("Cast media: "+!!S);this.C&&this.C.removeUpdateListener(this.iY);if(this.C=S)this.C.addUpdateListener(this.iY),zo$(this),this.publish("remotePlayerChange")}AX(S){S?(zo$(this),this.publish("remotePlayerChange")):this.W(null)}Lv(){fH(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}cn(){const S=mk9();S&&dV(this,S)}AO(S){Aa("CP",S)}};var Fn=class extends g.yf{constructor(S,W=!1){var m=CH,a=JM();super();this.W=NaN;this.AX=!1;this.U=this.iY=this.vn=this.q2=NaN;this.bY=[];this.A=this.Z=this.j=this.C=this.N=null;this.K_=m;this.Hn=W;this.bY.push(g.wd(window,"beforeunload",()=>{this.V(2)}));
this.B=[];this.C=new Mh;this.hX=S.id;this.cn=S.idType;this.N=EvZ(this.K_,a,this.GN,this.cn=="shortLived",this.hX);this.N.listen("channelOpened",()=>{ysw(this)});
this.N.listen("channelClosed",()=>{A7("Channel closed");isNaN(this.W)?QD(!0):QD();this.dispose()});
this.N.listen("channelError",J=>{QD();isNaN(this.S())?(J==1&&this.cn=="shortLived"&&this.publish("browserChannelAuthError",J),A7(`Channel error: ${J} without reconnection`),this.dispose()):(this.AX=!0,A7("Channel error: "+J+" with reconnection in "+this.S()+" ms"),Nh(this,2))});
this.N.listen("channelMessage",J=>{gFZ(this,J)});
this.N.qZ(S.token);this.subscribe("remoteQueueChange",()=>{var J=this.C.videoId;g.GN()&&g.zN("yt-remote-session-video-id",J)})}connect(S,W){if(W){var m=W.listId;
const a=W.videoId,J=W.videoIds,B=W.playerParams,E=W.clickTrackingParams,z=W.index,y={videoId:a},Y=W.currentTime,G=W.locationInfo;W=W.loopMode;Y!==void 0&&(y.currentTime=Y<=5?0:Y);B&&(y.playerParams=B);G&&(y.locationInfo=G);E&&(y.clickTrackingParams=E);m&&(y.listId=m);J&&J.length>0&&(y.videoIds=J.join(","));z!==void 0&&(y.currentIndex=z);this.Hn&&(y.loopMode=W||"LOOP_MODE_OFF");m&&(this.C.listId=m);this.C.videoId=a;this.C.index=z||0;this.C.state=3;Rq(this.C,Y);this.A="UNSUPPORTED";m=this.Hn?"setInitialState":
"setPlaylist";A7(`Connecting with ${m} and params: ${g.sG(y)}`);this.N.connect({method:m,params:g.sG(y)},S,FIZ())}else A7("Connecting without params"),this.N.connect({},S,FIZ());Ogp(this)}qZ(S){this.N.qZ(S)}dispose(){this.n_()||(g.f6("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),Nh(this,3));super.dispose()}j9(){bb(this);oq(this);Zv(this);g.da(this.iY);this.iY=NaN;g.da(this.U);this.U=NaN;this.j=null;g.S0(this.bY);this.bY.length=0;this.N.dispose();super.j9();this.A=this.Z=this.B=
this.C=this.N=null}ZQ(S){if(!this.B||this.B.length===0)return!1;for(const W of this.B)if(!W.capabilities.has(S))return!1;return!0}R2(){let S=3;this.n_()||(S=0,isNaN(this.S())?this.N.dD()&&isNaN(this.W)&&(S=1):S=2);return S}V(S){A7("Disconnecting with "+S);g.f6("yt.mdx.remote.remoteClient_",null);bb(this);this.publish("beforeDisconnect",S);S==1&&QD();this.N.disconnect(S);this.dispose()}p_(){let S=this.C;this.j&&(S=this.C.clone(),x4(S,this.j,S.index));return ib(S)}C3(S){const W=new Mh(S);W.videoId&&
W.videoId!=this.C.videoId&&(this.j=W.videoId,g.da(this.iY),this.iY=g.xo(()=>{if(this.j){const a=this.j;this.j=null;this.C.videoId!=a&&rV(this,"getNowPlaying")}},5E3));
const m=[];this.C.listId==W.listId&&this.C.videoId==W.videoId&&this.C.index==W.index||m.push("remoteQueueChange");this.C.playerState==W.playerState&&this.C.volume==W.volume&&this.C.muted==W.muted&&ec(this.C)==ec(W)&&g.sG(this.C.trackData)==g.sG(W.trackData)||m.push("remotePlayerChange");this.C.reset(S);g.Tg(m,function(a){this.publish(a)},this)}TN(){const S=this.N.getDeviceId(),W=g.gN(this.B,function(m){return m.type=="REMOTE_CONTROL"&&m.id!=S});
return W?W.id:""}S(){return this.N.Xg()}d2(){return this.A||"UNSUPPORTED"}mU(){return this.Z||""}g2(){!isNaN(this.S())&&this.N.St()}x6(S,W){rV(this,S,W);XQw(this)}GN(){var S=g.Er("SAPISID","")||g.Er("__Secure-1PAPISID")||"",W=g.Er("__Secure-3PAPISID","")||"";if(!S&&!W)return"";S=g.Pr(g.i4(S),2);W=g.Pr(g.i4(W),2);return g.Pr(g.i4(`,${S},${W}`),2)}};Fn.prototype.subscribe=Fn.prototype.subscribe;Fn.prototype.unsubscribeByKey=Fn.prototype.lK;Fn.prototype.getProxyState=Fn.prototype.R2;
Fn.prototype.disconnect=Fn.prototype.V;Fn.prototype.getPlayerContextData=Fn.prototype.p_;Fn.prototype.setPlayerContextData=Fn.prototype.C3;Fn.prototype.getOtherConnectedRemoteId=Fn.prototype.TN;Fn.prototype.getReconnectTimeout=Fn.prototype.S;Fn.prototype.getAutoplayMode=Fn.prototype.d2;Fn.prototype.getAutoplayVideoId=Fn.prototype.mU;Fn.prototype.reconnect=Fn.prototype.g2;Fn.prototype.sendMessage=Fn.prototype.x6;Fn.prototype.getXsrfToken=Fn.prototype.GN;
Fn.prototype.isCapabilitySupportedOnConnectedDevices=Fn.prototype.ZQ;var Ro8=class extends rQ{constructor(S){super("ScreenServiceProxy");this.qP=S;this.C=[];this.C.push(this.qP.$_s("screenChange",(0,g.D6)(this.N,this)));this.C.push(this.qP.$_s("onlineScreenChange",(0,g.D6)(this.B,this)))}oo(S){return this.qP.$_gs(S)}contains(S){return!!this.qP.$_c(S)}get(S){return this.qP.$_g(S)}start(){this.qP.$_st()}add(S,W,m){this.qP.$_a(S,W,m)}remove(S,W,m){this.qP.$_r(S,W,m)}rz(S,W,m,a){this.qP.$_un(S,W,m,a)}j9(){const S=this.C.length;for(let W=0;W<S;++W)this.qP.$_ubk(this.C[W]);
this.C.length=0;this.qP=null;super.j9()}N(){this.publish("screenChange")}B(){this.publish("onlineScreenChange")}};aq.prototype.$_st=aq.prototype.start;aq.prototype.$_gspc=aq.prototype.JQ;aq.prototype.$_gsppc=aq.prototype.OJ;aq.prototype.$_c=aq.prototype.contains;aq.prototype.$_g=aq.prototype.get;aq.prototype.$_a=aq.prototype.add;aq.prototype.$_un=aq.prototype.rz;aq.prototype.$_r=aq.prototype.remove;aq.prototype.$_gs=aq.prototype.oo;aq.prototype.$_gos=aq.prototype.V3;aq.prototype.$_s=aq.prototype.subscribe;
aq.prototype.$_ubk=aq.prototype.lK;var yo=null,pJ=!1,CH=null,cw=null,q3=null,WJ=[];var Cmx=class extends g.JW{constructor(S,W,m){super();this.C=S;this.X=W;this.iP=m;this.events=new g.JC(this);this.W=!1;this.Z=new g.AQ(64);this.N=new g.rr(this.GN,500,this);this.B=new g.rr(this.cn,1E3,this);this.iY=new LA(this.hX,0,this);this.j={};this.U=new g.rr(this.TN,1E3,this);this.S=new g.WV(this.seekTo,1E3,this);this.ZQ=this.events.L(this.X,"onVolumeChange",a=>{ign(this,a)});
g.R(this,this.events);this.events.L(W,"onCaptionsTrackListChanged",this.g2);this.events.L(W,"captionschanged",this.K_);this.events.L(W,"captionssettingschanged",this.Hn);this.events.L(W,"videoplayerreset",this.V);this.events.L(W,"mdxautoplaycancel",()=>{this.iP.bY()});
W.T("enable_mdx_video_play_directly")&&this.events.L(W,"videodatachange",()=>{Pm$(this.C)||Vo(this)||nJ(this,0)});
S=this.iP;S.n_();S.subscribe("proxyStateChange",this.AX,this);S.subscribe("remotePlayerChange",this.A,this);S.subscribe("remoteQueueChange",this.V,this);S.subscribe("previousNextChange",this.q2,this);S.subscribe("nowAutoplaying",this.vn,this);S.subscribe("autoplayDismissed",this.bY,this);g.R(this,this.N);g.R(this,this.B);g.R(this,this.iY);g.R(this,this.U);g.R(this,this.S);this.Hn();this.V();this.A()}j9(){super.j9();this.N.stop();this.B.stop();this.iY.stop();const S=this.iP;S.unsubscribe("proxyStateChange",
this.AX,this);S.unsubscribe("remotePlayerChange",this.A,this);S.unsubscribe("remoteQueueChange",this.V,this);S.unsubscribe("previousNextChange",this.q2,this);S.unsubscribe("nowAutoplaying",this.vn,this);S.unsubscribe("autoplayDismissed",this.bY,this);this.iP=this.C=null}bH(S,...W){if(this.iP.B!=2)if(Vo(this)){if(Iq(this.iP).playerState!=1081||S!=="control_seek")switch(S){case "control_toggle_play_pause":Iq(this.iP).isPlaying()?this.iP.pause():this.iP.play();break;case "control_play":this.iP.play();
break;case "control_pause":this.iP.pause();break;case "control_seek":this.S.j(W[0],W[1]);break;case "control_subtitles_set_track":un(this,W[0]);break;case "control_set_audio_track":this.setAudioTrack(W[0])}}else switch(S){case "control_toggle_play_pause":case "control_play":case "control_pause":S=this.X.getCurrentTime();nJ(this,S===0?void 0:S);break;case "control_seek":nJ(this,W[0]);break;case "control_subtitles_set_track":un(this,W[0]);break;case "control_set_audio_track":this.setAudioTrack(W[0])}}K_(S){this.iY.tQ(S)}hX(S){this.bH("control_subtitles_set_track",
g.Sm(S)?null:S)}Hn(){const S=this.X.getOption("captions","track");g.Sm(S)||un(this,S)}Ln(S){this.C.Ln(S,this.X.getVideoData().lengthSeconds)}g2(){g.Sm(this.j)||dkn(this,this.j);this.W=!1}AX(S,W){this.B.stop();W===2&&this.cn()}A(){if(Vo(this)){this.N.stop();var S=Iq(this.iP);switch(S.playerState){case 1080:case 1081:case 1084:case 1085:this.C.iO=1;break;case 1082:case 1083:this.C.iO=0;break;default:this.C.iO=-1}switch(S.playerState){case 1081:case 1:this.qd(new g.AQ(8));this.GN();break;case 1085:case 3:this.qd(new g.AQ(9));
break;case 1083:case 0:this.qd(new g.AQ(2));this.S.stop();this.Ln(this.X.getVideoData().lengthSeconds);break;case 1084:this.qd(new g.AQ(4));break;case 2:this.qd(new g.AQ(4));this.Ln(ec(S));break;case -1:this.qd(new g.AQ(64));break;case -1E3:this.qd(new g.AQ(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",p8:2}))}const m=Iq(this.iP).trackData;S=m;var W=this.j;(S||W?S&&W&&S.trackName==W.trackName&&S.languageCode==W.languageCode&&S.languageName==W.languageName&&
S.kind==W.kind:1)||(this.j=m,dkn(this,m));S=Iq(this.iP);S.volume===-1||Math.round(this.X.getVolume())===S.volume&&this.X.isMuted()===S.muted||this.U.isActive()||this.TN()}else IMp(this)}q2(){this.X.publish("mdxpreviousnextchange")}V(){Vo(this)||IMp(this)}vn(S){isNaN(S)||this.X.publish("mdxnowautoplaying",S)}bY(){this.X.publish("mdxautoplaycanceled")}setAudioTrack(S){Vo(this)&&this.iP.setAudioTrack(this.X.getVideoData(1).videoId,S)}seekTo(S,W){Iq(this.iP).playerState===-1?nJ(this,S):W&&this.iP.seekTo(S)}TN(){if(Vo(this)){var S=
Iq(this.iP);this.events.Zb(this.ZQ);S.muted?this.X.mute():this.X.unMute();this.X.setVolume(S.volume);this.ZQ=this.events.L(this.X,"onVolumeChange",W=>{ign(this,W)})}}GN(){this.N.stop();
if(!this.iP.n_()){var S=Iq(this.iP);S.isPlaying()&&this.qd(new g.AQ(8));this.Ln(ec(S));this.N.start()}}cn(){this.B.stop();this.N.stop();const S=this.iP.Xg();this.iP.B==2&&!isNaN(S)&&this.B.start()}qd(S){this.B.stop();const W=this.Z;if(!g.Co(W,S)){const m=S.C(2);m!==this.Z.C(2)&&this.X.AA(m);this.Z=S;fMZ(this.C,W,S)}}};var csN=class extends g.LF{constructor(S,W){super(S);this.C=W}getCurrentTime(){return this.C.getCurrentTime()}getDuration(){return this.C.getDuration()}XD(){return this.C.XD()}WQ(){return this.C.WQ()}Nn(){return this.C.Nn()}cJ(){return this.C.cJ()}getPlayerState(){return this.C.YP}isAtLiveHead(){return this.C.isAtLiveHead()}pauseVideo(){gg(this.C,"control_pause")}async playVideo(){gg(this.C,"control_play")}seekTo(S,W){gg(this.C,"control_seek",S,!W?.g0)}G8(S){gg(this.C,"control_set_audio_track",S);
return!0}};var Dk9=class extends g.c{constructor(){super({G:"div",O:"ytp-mdx-popup-dialog",J:{role:"dialog"},D:[{G:"div",O:"ytp-mdx-popup-dialog-inner-content",D:[{G:"div",O:"ytp-mdx-popup-title",Bn:"You're signed out"},{G:"div",O:"ytp-mdx-popup-description",Bn:"Videos that you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{G:"div",O:"ytp-mdx-privacy-popup-buttons",D:[{G:"button",Wn:["ytp-button","ytp-mdx-privacy-popup-cancel"],
Bn:"Cancel"},{G:"button",Wn:["ytp-button","ytp-mdx-privacy-popup-confirm"],Bn:"Confirm"}]}]}]});this.fade=new g.HV(this,250);this.cancelButton=this.I2("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.I2("ytp-mdx-privacy-popup-confirm");g.R(this,this.fade);this.L(this.cancelButton,"click",this.C);this.L(this.confirmButton,"click",this.N)}Ya(){this.fade.show()}ZH(){this.fade.hide()}C(){v7("mdx-privacy-popup-cancel");this.ZH()}N(){v7("mdx-privacy-popup-confirm");this.ZH()}};var wQN=class extends g.c{constructor(S){super({G:"div",O:"ytp-remote",D:[{G:"div",O:"ytp-remote-display-status",D:[{G:"div",O:"ytp-remote-display-status-icon",D:[g.kfP()]},{G:"div",O:"ytp-remote-display-status-text",Bn:"{{statustext}}"}]}]});this.api=S;this.fade=new g.HV(this,250);g.R(this,this.fade);this.L(S,"presentingplayerstatechange",this.onStateChange);this.Jw(S.getPlayerStateObject())}onStateChange(S){this.Jw(S.state)}Jw(S){if(this.api.getPresentingPlayerType()===3){const W={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};S=S.C(128)?g.pt("Error on $RECEIVER_NAME",W):S.isPlaying()||S.isPaused()?g.pt("Playing on $RECEIVER_NAME",W):g.pt("Connected to $RECEIVER_NAME",W);this.updateValue("statustext",S);this.fade.show()}else this.fade.hide()}};var Si9=class extends g.nF{constructor(S,W){super("Play on",1,S,W);this.X=S;this.wg={};this.L(S,"onMdxReceiversChange",this.W);this.L(S,"presentingplayerstatechange",this.W);this.W()}W(){var S=this.X.getOption("remote","receivers");S&&S.length>1&&!this.X.getOption("remote","quickCast")?(this.wg=g.$p(S,this.A,this),this.j(g.F9(S,this.A)),S=this.X.getOption("remote","currentReceiver"),S=this.A(S),this.options[S]&&this.N(S),this.enable(!0)):this.enable(!1)}A(S){return S.key}B(S){return S==="cast-selector-receiver"?
"Cast...":this.wg[S].name}C(S){super.C(S);this.X.setOption("remote","currentReceiver",this.wg[S]);this.Nw.ZH()}};g.FL("remote",class extends g.gL{constructor(S){super(S);this.j4={key:VD(),name:"This computer"};this.n6=null;this.subscriptions=[];this.jV=this.iP=null;this.wg=[this.j4];this.xW=this.j4;this.YP=new g.AQ(64);this.PP=0;this.iO=-1;this.I1=!1;this.Np=this.jz=this.e5=null;if(!g.d2(this.player.K())&&!g.CG(this.player.K())){S=this.player;var W=g.DI(S);W&&(W=W.nW())&&(W=new Si9(S,W),g.R(this,W));W=new wQN(S);g.R(this,W);g.TJ(S,W.element,4);this.e5=new Dk9;g.R(this,this.e5);g.TJ(S,this.e5.element,4);this.I1=
!!a7()}}create(){var S=this.player.K();const W=g.PW(S);S={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:S.T("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:S.T("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:S.T("enable_cast_short_lived_lounge_token")};MV9(W,S);this.subscriptions.push(g.yG("yt-remote-before-disconnect",this.AP,this));this.subscriptions.push(g.yG("yt-remote-connection-change",this.X9,this));this.subscriptions.push(g.yG("yt-remote-receiver-availability-change",
this.Xc,this));this.subscriptions.push(g.yG("yt-remote-auto-connect",this.Gj,this));this.subscriptions.push(g.yG("yt-remote-receiver-resumed",this.Pp,this));this.subscriptions.push(g.yG("mdx-privacy-popup-confirm",this.Ic,this));this.subscriptions.push(g.yG("mdx-privacy-popup-cancel",this.qc,this));this.Xc()}load(){this.player.cancelPlayback();super.load();this.Np=new csN(this.player.K(),this);this.player.x_(this.Np);this.n6=new Cmx(this,this.player,this.iP);var S=(S=xkn())?S.currentTime:0;const W=
Ty()?new rsQ:null;S==0&&W&&(S=ec(Iq(W)));S!==0&&this.Ln(S);fMZ(this,this.YP,this.YP);this.player.ZW(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.gM();this.xW=this.j4;g.aC(this.n6,this.iP);this.iP=this.Np=this.n6=null;super.unload();this.player.ZW(5);Ou(this)}j9(){g.Yy(this.subscriptions);super.j9()}getAdState(){return this.iO}hasPrevious(){return this.iP?Iq(this.iP).hasPrevious:!1}hasNext(){return this.iP?Iq(this.iP).hasNext:!1}Ln(S,W){this.PP=S||0;this.player.publish("progresssync",
S,W);g.oV(this.player,"onVideoProgress",S||0)}getCurrentTime(){return this.PP}getDuration(){return Iq(this.iP).getDuration()||0}XD(){var S=Iq(this.iP);return S.j?S.C+LH(S):S.C}WQ(){return Iq(this.iP).loadedTime}Nn(){return JsH(Iq(this.iP))}cJ(){var S=Iq(this.iP);return S.N>0?S.N+LH(S):S.N}getProgressState(){const S=Iq(this.iP),W=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:S.playerState!=1081&&this.player.fC(),clipEnd:W.clipEnd,clipStart:W.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.XD(),isAtLiveHead:this.isAtLiveHead(),loaded:this.WQ(),seekableEnd:this.Nn(),seekableStart:this.cJ(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return JsH(Iq(this.iP))-this.getCurrentTime()<=1}nextVideo(){this.iP&&this.iP.nextVideo()}HF(){this.iP&&this.iP.HF()}AP(S){S===1&&(this.jV=this.iP?Iq(this.iP):null)}X9(){var S=Ty()?new rsQ:null;if(S){const W=this.xW;this.loaded&&this.unload();this.iP=S;this.jV=null;W.key!==this.j4.key&&
(this.xW=W,this.load())}else g.md(this.iP),this.iP=null,this.loaded&&(this.unload(),(S=this.jV)&&S.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(S.videoId,ec(S)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}Xc(){var S=[this.j4],W=S.concat;const m=UkN();Q5()&&g.yM("yt-remote-cast-available")&&m.push({key:"cast-selector-receiver",name:"Cast..."});this.wg=W.call(S,m);S=zy()||this.j4;jf(this,S);g.oV(this.player,"onMdxReceiversChange")}Gj(){const S=
zy();jf(this,S)}Pp(){this.xW=zy()}Ic(){this.I1=!0;Ou(this);pJ=!1;yo&&Gy(yo,1);yo=null}qc(){this.I1=!1;Ou(this);jf(this,this.j4);this.xW=this.j4;pJ=!1;yo=null;this.player.playVideo()}pJ(S,W){switch(S){case "casting":return this.loaded;case "receivers":return this.wg;case "currentReceiver":return W&&(W.key==="cast-selector-receiver"?vw():jf(this,W)),this.loaded?this.xW:this.j4;case "quickCast":return this.wg.length===2&&this.wg[1].key==="cast-selector-receiver"?(W&&vw(),!0):!1}}Lv(){this.iP.Lv()}Pc(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.k("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.k("SESSION_INDEX")&&!g.k("LOGGED_IN"))}});})(_yt_player);
